{"version":3,"sources":["images/src sync nonrecursive /.jpg","images/src/Ancient Oven.jpg","images/src/Chio.jpg","images/src/Epona.jpg","images/src/Hunnie.jpg","images/src/Karson.jpg","images/src/Kass.jpg","images/src/Link.jpg","images/src/Magda.jpg","images/src/Master Kohga.jpg","images/src/Mipha.jpg","images/src/Oaki.jpg","images/src/Patrica.jpg","images/src/Pelison.jpg","images/src/Prince Sidon.jpg","images/src/Revali.jpg","images/src/Riju.jpg","images/src/Robbie.jpg","images/src/Roscoe.jpg","images/src/Royal White Horse.jpg","images/src/Teebo.jpg","images/src/Urbosa.jpg","utils/relationshipMap.ts","model/color.ts","utils/ai/classifyRelationship.ts","images/tribe.ts","utils/likeMap.ts","images/RelationshipMapper.ts","components/playerPortrait/houseguestPortraitController.ts","components/playerPortrait/houseguestPortrait.tsx","components/playerPortrait/selectedPortrait.ts","components/layout/box.tsx","components/playerPortrait/houseguestToPortrait.tsx","components/tooltip/tooltip.tsx","components/playerPortrait/portraits.tsx","components/memoryWall/tribeContainer.tsx","components/memoryWall/selectedTribe.ts","components/memoryWall/memoryWall.tsx","components/layout/text.ts","components/memoryWallScreen/memoryWallScreen.tsx","components/playerPortrait/subtitle.tsx","model/portraitDisplayMode.ts","utils/utilities.ts","subjects/subjects.tsx","utils/BbRandomGenerator.ts","model/gameState.ts","model/logging/episodelog.ts","components/episode/episodeFactory.ts","components/viewsBar/viewBarTag.tsx","components/viewsBar/viewBar.tsx","components/episode/episodes.tsx","components/episode/bigBrotherEpisode.tsx","components/episode/bigBrotherFinale.tsx","components/layout/centered.tsx","components/mainPage/fullscreenButton.tsx","components/episode/scenes/votingTable.tsx","components/episode/gameOver.tsx","model/season.ts","components/sidebar/sidebarController.ts","components/sidebar/sidebar.tsx","utils/base64.ts","images/decoder.ts","components/topbar/topBarController.ts","images/initialProfiles.ts","components/topbar/topBar.tsx","components/mainPage/mainContentArea.tsx","components/mainPage/mainPage.tsx","components/mainPage/mainPageController.ts","theme/theme.ts","theme/globalTheme.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["map","./Ancient Oven.jpg","./Chio.jpg","./Epona.jpg","./Hunnie.jpg","./Karson.jpg","./Kass.jpg","./Link.jpg","./Magda.jpg","./Master Kohga.jpg","./Mipha.jpg","./Oaki.jpg","./Patrica.jpg","./Pelison.jpg","./Prince Sidon.jpg","./Revali.jpg","./Riju.jpg","./Robbie.jpg","./Roscoe.jpg","./Royal White Horse.jpg","./Teebo.jpg","./Urbosa.jpg","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","p","newDiscreteRelationshipMap","size","exclude","result","i","undefined","componentToHex","c","hex","Math","round","toString","length","RelationshipType","ThreatLevel","Rgb","r","g","b","classCallCheck","this","createClass","key","value","concat","interpolateColor","min","max","percent","toHex","RelationshipTypeToSymbol","NEUTRAL","FRIEND","ENEMY","PAWN","QUEEN","HUNTER","TARGET","DUPE","DECEIVER","RelationshipTypeToPopularity","ClassifyDiscreteRelationship","true","Friend","false","Dupe","Pawn","Deceiver","Enemy","Hunter","Queen","Target","Neutral","f","a","classifyRelationship","heroPopularity","villainPopularity","heroRelationship","villainRelationship","benefitsHero","benefitsVillain","tribeId","t","name","color","nullTribe","sizeOf","l","calculatePopularity","hg","n","likedBy","dislikedBy","calculatePowerRanking","thinksImThreat","thinksImWeak","threats","weaks","twoN","calcPowerRank","RelationshipMapper","houseguests","_this","cache","tribeIDs","Set","nonEvictedIDs","forEach","toUpperCase","isEvicted","push","get","_this2","dropYourBuffs","evict","unevict","hero","h","v","tribe","popularity","powerRanking","_this3","myTribeId","flag","toDelete","indexOf","neutral","utr","splice","groups","newR","likeKey","dislikeKey","hToV","getRelationship","villain","disabled","addToLikeMap","deleteFromLikeMap","updatePopularities","nonEvictedHouseguests","skeleton","members","_this4","filter","toLowerCase","includes","has","add","setRelationship","like","j","friends","dislike","selectedColor","HouseguestPortraitController","view","subs","refreshTribeFilter","selectedTribe","selectedPlayer","getSelectedPlayer","updateLikeCounts","props","selectedPlayer$","next","refreshData","data","state","setState","getPopularity","relationships","getPowerRanking","powerRankings","goToDefaultState","displayMode","backgroundColor","subscribe","selectedTribe$","displayMode$","sub","unsubscribe","newState","hasSameTribe","_","objectSpread","defaultState","isNullOrUndefined","relationshipType","x","Subtitle","styled","small","_templateObject","MemoryWallPortrait","div","_templateObject2","_ref","theme","portraitBorder","Evicted","_templateObject3","Jury","_templateObject4","Normal","img","_templateObject5","Grayscale","_templateObject6","Sepia","_templateObject7","HouseguestPortrait","_React$Component","possibleConstructorReturn","getPrototypeOf","call","controller","assertThisInitialized","inherits","player","superiors","subtitle","Img","imageClass","getImageClass","generateSubtitle","detailed","Portrait","react_default","createElement","onClick","style","src","imageURL","React","Component","ShadowBox","box_templateObject","_ref2","overlay","StyledBox","box_templateObject2","_ref3","bodyArea","DividerBox","className","children","Box","houseguestToPortrait","houseguest","houseguestPortrait_HouseguestPortrait","assign","Text","tooltip_templateObject","Tooltip","visible","Popover_default","position","isOpen","content","text","onMouseEnter","onMouseLeave","Portraits","rows","memoryWallPortrait","tooltip","tooltip_Tooltip","centered","TribeContainer","getHoverable","normal","hilite","bg","charAt","substring","parseInt","col","pow","textColor","selected","tribeContainer_templateObject","Hoverable","tribeName","textAlign","select","bind","margin","maxWidth","hgs","MemoryWall","houseguestsByTribe","groupBy","tribes","tribeContainer_TribeContainer","HasText","text_templateObject","MemoryWallScreen","input","text_templateObject2","cast","players$","emptySubtitle","addCompsLine","compWins","lineHeight","hohWins","povWins","nominations","friendOrEnemyTitle","titles","friendEnemyCountTitle","count","enemies","friendCountText","Relationship","enemyCountText","popularityMinColor","popularityMaxColor","popularityMode","minColor","maxColor","extremePopularity","xSquared","extremeValues","arguments","_addCountTitle","discreteTitle","countTitle","txt","addCountTitle","mainContentStream$","BehaviorSubject","memoryWallScreen_MemoryWallScreen","episodes$","switchEpisode$","Subject","switchSceneRelative","cast$","isFullscreen$","theme$","BbRandomGenerator","seed","rng","prand","xorshift128plus","_this$rng$next","_this$rng$next2","slicedToArray","_prand$uniformIntDist","uniformIntDistribution","_prand$uniformIntDist2","_this$rng$next3","_this$rng$next4","getById","gameState","houseguestCache","MutableGameState","init","remainingPlayers","phase","previousHOH","log","copy","cloneDeep","EpisodeLog","nominationsPreVeto","vetoWinner","winner","runnerUp","nominationsPostVeto","evicted","votes","votesInMajority","outOf","soleVoter","EpisodeFactory","episodeType","viewBar_templateObject","BigBrotherVanilla","canPlayWith","eliminates","arrowsEnabled","hasViewsbar","BigBrotherFinale","centered_templateObject","centered_templateObject2","fullscreenButton_templateObject","EndgameTableCell","td","votingTable_templateObject","tableCellBorder","table","votingTable_templateObject2","votingTable_templateObject3","grayCell","votingTable_templateObject4","_ref4","lightGrayCell","votingTable_templateObject5","_ref5","evictedCell","votingTable_templateObject6","_ref6","winnerCell","votingTable_templateObject7","_ref7","runnerUpCell","_templateObject8","_ref8","nomineeCell","_templateObject9","_ref9","hohCell","tr","_templateObject10","GameOver","Season","factory","type","nextEpisode","players","SidebarController","subscriptions","season","scenes","selectedEpisode","delta","selectedScene","renderedScenes","targetScene","episode","lastEpisode","episodes","switchToScene","currentGameState","newPlayerCount","nextEpisodeType","whichEpisodeType","renderEpisode","onNewEpisode","_switchToScene","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","scene","render","index","stop","_x","apply","event","keyCode","_handleKeyDown","Sidebar","document","addEventListener","handleKeyDown","destroy","minWidth","display","getEpisodes","title","episodeKey","breakKey","getHighlight","getSelectedEpisode","Base64","digits","split","digitsMap","Map","set","fromInt","int32","toInt","digitsStr","m","decodeToRelationshipMapper","c1","reset","trim","_c$split","_c$split2","evictees","codeToHouseguest","decodeEvictees","hash","slice","chex","test","tribemates","decodeTribes","decodedR","decodedP","decode","fromTernary","decodeRelationships","alert","s","padStart","ternaryToRelationship","entries","0","1","2","lookedUp","TopbarController","onSubmit","inputCode","newMap","rMapper","initialProfiles","context","profiles","evictedHouseguests","jurors","item","replace","setupProfiles","importAll","require","Topbar","handleChange","target","marginTop","onChange","MainContentAreaWrapper","mainContentArea_templateObject","MainContentArea","contentStream","prevProps","prevState","window","scrollTo","MainPage","fullscreen","inject","hideOnFullscreen","wrapperStyle","overflow","sidebar_Sidebar","topBar_Topbar","overflowX","mainContentArea_MainContentArea","MainPageController","page","darkTheme","toggleBorder","gradient","link","GlobalStyles","createGlobalStyle","globalTheme_templateObject","App","styled_components_browser_esm","Fragment","mainPage_MainPage","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4b3b9a95.chunk.js","sourcesContent":["var map = {\n\t\"./Ancient Oven.jpg\": 51,\n\t\"./Chio.jpg\": 52,\n\t\"./Epona.jpg\": 53,\n\t\"./Hunnie.jpg\": 54,\n\t\"./Karson.jpg\": 55,\n\t\"./Kass.jpg\": 56,\n\t\"./Link.jpg\": 57,\n\t\"./Magda.jpg\": 58,\n\t\"./Master Kohga.jpg\": 59,\n\t\"./Mipha.jpg\": 60,\n\t\"./Oaki.jpg\": 61,\n\t\"./Patrica.jpg\": 62,\n\t\"./Pelison.jpg\": 63,\n\t\"./Prince Sidon.jpg\": 64,\n\t\"./Revali.jpg\": 65,\n\t\"./Riju.jpg\": 66,\n\t\"./Robbie.jpg\": 67,\n\t\"./Roscoe.jpg\": 68,\n\t\"./Royal White Horse.jpg\": 69,\n\t\"./Teebo.jpg\": 70,\n\t\"./Urbosa.jpg\": 71\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 50;","module.exports = __webpack_public_path__ + \"static/media/Ancient Oven.664d947b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Chio.8c7ec4dc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Epona.88cef752.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Hunnie.ace36d90.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Karson.67d640a7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Kass.02c5f882.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Link.01a85fa6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Magda.17e0b3bf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Master Kohga.0074005b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Mipha.c760649d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Oaki.7d4ced3f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Patrica.2d7078ed.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Pelison.d2d8eb3d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Prince Sidon.25297a39.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Revali.cfc5fcf3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Riju.7c0b36f3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Robbie.8e8d0ff0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Roscoe.9b467e1a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Royal White Horse.b555d814.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Teebo.88ef7673.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Urbosa.122f3dc6.jpg\";","export interface RelationshipMap {\n  [id: number]: number;\n}\n\nexport interface DiscreteRelationshipMap {\n  [id: number]: boolean | undefined;\n}\n\nexport function newRelationshipMap(\n  size: number,\n  exclude: number\n): RelationshipMap {\n  const result: RelationshipMap = {};\n  for (let i = 0; i < size; i++) {\n    if (i !== exclude) result[i] = 0;\n  }\n  return result;\n}\n\nexport function newDiscreteRelationshipMap(\n  size: number,\n  exclude: number\n): DiscreteRelationshipMap {\n  const result: DiscreteRelationshipMap = {};\n  for (let i = 0; i < size; i++) {\n    if (i !== exclude) result[i] = undefined;\n  }\n  return result;\n}\n","function componentToHex(c: any) {\n  var hex = Math.round(c).toString(16);\n  return hex.length == 1 ? \"0\" + hex : hex;\n}\n\nexport class Rgb {\n  public r: number;\n  public g: number;\n  public b: number;\n  public toHex() {\n    return (\n      \"#\" +\n      componentToHex(this.r) +\n      componentToHex(this.g) +\n      componentToHex(this.b)\n    );\n  }\n  public toRgba(): string {\n    return `rgba(${this.r}, ${this.g}, ${this.b}, 1)`;\n  }\n  constructor(r: number, g: number, b: number) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n  }\n}\nfunction hexToRgb(hex: string) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : null;\n}\n\nexport function textColor(bg: string) {\n  var color = bg.charAt(0) === \"#\" ? bg.substring(1, 7) : bg;\n  var r = parseInt(color.substring(0, 2), 16); // hexToR\n  var g = parseInt(color.substring(2, 4), 16); // hexToG\n  var b = parseInt(color.substring(4, 6), 16); // hexToB\n  var uicolors = [r / 255, g / 255, b / 255];\n  var c = uicolors.map((col) => {\n    if (col <= 0.03928) {\n      return col / 12.92;\n    }\n    return Math.pow((col + 0.055) / 1.055, 2.4);\n  });\n  var L = 0.2126 * c[0] + 0.7152 * c[1] + 0.0722 * c[2];\n  return L > 0.179 ? \"#000000\" : \"#ffffff\";\n}\n\nexport function interpolateColor(min: Rgb, max: Rgb, percent: number): string {\n  return new Rgb(\n    min.r + percent * (max.r - min.r),\n    min.g + percent * (max.g - min.g),\n    min.b + percent * (max.b - min.b)\n  ).toHex();\n}\n","export enum RelationshipType {\n  Neutral = \"NEUTRAL\",\n  Friend = \"FRIEND\",\n  Enemy = \"ENEMY\",\n  Pawn = \"PAWN\",\n  Queen = \"QUEEN\",\n  Hunter = \"HUNTER\",\n  Target = \"TARGET\",\n  Dupe = \"DUPE\",\n  Deceiver = \"DECEIVER\",\n}\n\nexport enum ThreatLevel {\n  Threat = \"THREAT\",\n  Weak = \"WEAK\",\n  Neutral = \"NEUTRAL\",\n}\n\nexport const RelationshipTypeToSymbol = {\n  NEUTRAL: \"-\",\n  FRIEND: \"\",\n  ENEMY: \"\",\n  PAWN: \"THEY  ME\",\n  QUEEN: \"I  THEM\",\n  HUNTER: \"THEY  ME\",\n  TARGET: \"I  THEM\",\n  DUPE: \"I  THEM THEY  ME\",\n  DECEIVER: \"I  THEM THEY  ME\",\n};\n\nexport const ThreatLevelToSymbol = {\n  THREAT: \"\",\n  WEAK: \"\",\n  NEUTRAL: \"-\",\n};\n\nexport const RelationshipTypeToPopularity = {\n  NEUTRAL: 0,\n  FRIEND: 1,\n  ENEMY: -1,\n  PAWN: 0.66,\n  QUEEN: 0.33,\n  HUNTER: -0.66,\n  TARGET: -0.33,\n  DUPE: 0.25,\n  DECEIVER: -0.25,\n};\n\nexport const ClassifyDiscreteRelationship: {\n  [id: string]: { [id: string]: RelationshipType };\n} = {\n  true: {\n    true: RelationshipType.Friend,\n    false: RelationshipType.Dupe,\n    undefined: RelationshipType.Pawn,\n  },\n  false: {\n    true: RelationshipType.Deceiver,\n    false: RelationshipType.Enemy,\n    undefined: RelationshipType.Hunter,\n  },\n  undefined: {\n    true: RelationshipType.Queen,\n    false: RelationshipType.Target,\n    undefined: RelationshipType.Neutral,\n  },\n};\n\nfunction f(a: boolean | undefined): \"true\" | \"false\" | \"undefined\" {\n  if (a === true) return \"true\";\n  else if (a === false) return \"false\";\n  else return \"undefined\";\n}\n\nexport function classifyRelationship(\n  heroPopularity: number,\n  villainPopularity: number,\n  heroRelationship: number | boolean | undefined,\n  villainRelationship: number | boolean | undefined\n): RelationshipType {\n  if (\n    typeof heroRelationship !== \"number\" &&\n    typeof villainRelationship !== \"number\"\n  ) {\n    return ClassifyDiscreteRelationship[f(heroRelationship)][\n      f(villainRelationship)\n    ];\n  }\n\n  const benefitsHero = heroRelationship! > heroPopularity;\n  const benefitsVillain = heroRelationship! > villainPopularity;\n  if (benefitsHero && benefitsVillain) {\n    return RelationshipType.Friend;\n  } else if (benefitsHero && !benefitsVillain) {\n    return RelationshipType.Pawn;\n  } else if (!benefitsHero && benefitsVillain) {\n    return RelationshipType.Queen;\n  }\n  return RelationshipType.Enemy;\n}\n","export interface Tribe {\n  name: string;\n  color: string;\n  size: number;\n}\n\nexport function tribeId(t: Tribe | undefined): string {\n  if (t === undefined) return \"\";\n  return `${t.name}${t.color}`;\n}\n\nexport const nullTribe: Tribe = { name: \"\", color: \"\", size: 0 };\n","export interface Likemap {\n  [id: number]: {\n    tribeId: string;\n    groups: Set<number>;\n  };\n}\n\nexport function sizeOf(l: Likemap) {\n  return Object.keys(l).length;\n}\n","import { ProfileHouseguest } from \"../components/memoryWall\";\nimport { Tribe, tribeId } from \"./tribe\";\nimport { PlayerProfile } from \"../model\";\nimport { DiscreteRelationshipMap } from \"../utils\";\nimport { Likemap, sizeOf } from \"../utils/likeMap\";\n\ntype Map = \"relationships\" | \"powerRankings\";\ntype LikeKey = \"likedBy\" | \"thinksImThreat\";\ntype DislikeKey = \"dislikedBy\" | \"thinksImWeak\";\n\nfunction calcPowerRank(threats: number, weaks: number, n: number) {\n  if (n === 0) return 0;\n  const twoN = 2 * n;\n  return 0.5 + threats / twoN - weaks / twoN;\n}\n\nexport function calculatePopularity(\n  hg: { likedBy: Likemap; dislikedBy: Likemap },\n  n: number\n): number | undefined {\n  if (n < 1) return undefined;\n  const likedBy = sizeOf(hg.likedBy);\n  const dislikedBy = sizeOf(hg.dislikedBy);\n  let result: number | undefined = 0;\n  result = (likedBy - dislikedBy) / n;\n  likedBy === 0 && dislikedBy === 0 && (result = undefined);\n  return result;\n}\n\nexport function calculatePowerRanking(\n  hg: { thinksImThreat: Likemap; thinksImWeak: Likemap },\n  n: number\n): number | undefined {\n  if (n < 1) return undefined;\n  const thinksImThreat = sizeOf(hg.thinksImThreat);\n  const thinksImWeak = sizeOf(hg.thinksImWeak);\n  let result: number | undefined = 0;\n  result = calcPowerRank(thinksImThreat, thinksImWeak, n);\n  thinksImThreat === 0 && thinksImWeak === 0 && (result = undefined);\n  return result;\n}\n\nexport interface RelationshipHouseguest extends PlayerProfile {\n  id: number;\n  isEvicted?: boolean;\n  disabled?: boolean;\n  tribe?: Tribe;\n  //\n  relationships: DiscreteRelationshipMap;\n  popularity?: number;\n  likedBy: Likemap;\n  dislikedBy: Likemap;\n  //\n  powerRankings: DiscreteRelationshipMap;\n  powerRanking?: number;\n  thinksImWeak: Likemap;\n  thinksImThreat: Likemap;\n  //\n  tooltip?: string;\n}\nexport class RelationshipMapper {\n  public houseguests: RelationshipHouseguest[] = [];\n  private cache: {\n    [id: string]: RelationshipHouseguest;\n  } = {};\n  private tribeIDs: Set<string> = new Set<string>();\n  get nonEvictedHouseguests(): number {\n    return this.nonEvictedIDs.length;\n  }\n  nonEvictedIDs: number[] = []; // this must be an ordered type to guarentee encoding/decoding works. don't use a set\n  public constructor(houseguests: RelationshipHouseguest[]) {\n    this.houseguests = houseguests;\n    if (houseguests.length > 4096) {\n      throw new Error(\"The max number of players is 4096.\");\n    }\n    houseguests.forEach((hg) => {\n      this.cache[hg.name.toUpperCase()] = hg;\n      !hg.isEvicted && this.nonEvictedIDs.push(hg.id);\n    });\n  }\n\n  public getById(id: number): RelationshipHouseguest {\n    if (this.houseguests[id] === undefined) throw Error(\"invalid id\");\n    return this.houseguests[id];\n  }\n\n  public reset() {\n    this.dropYourBuffs();\n    this.houseguests.forEach((hg) => {\n      this.evict(hg.name);\n      this.unevict(hg.name);\n    });\n  }\n\n  private get(hero: string): RelationshipHouseguest {\n    const result = this.cache[hero.toUpperCase()];\n    if (result === undefined) throw new Error(`bad name: ${hero}`);\n    return result;\n  }\n  private getRelationship(h: string, v: string, map: Map) {\n    return this.get(h)[map][this.get(v).id];\n  }\n\n  public dropYourBuffs() {\n    this.tribeIDs = new Set<string>();\n    this.houseguests.forEach((hg) => {\n      hg.tribe = undefined;\n    });\n  }\n\n  private updatePopularities(hg: ProfileHouseguest, n: number) {\n    hg.popularity = calculatePopularity(hg, n);\n    hg.powerRanking = calculatePowerRanking(hg, n);\n  }\n\n  public evict(h: string) {\n    const hero = this.get(h);\n    const myTribeId = tribeId(hero.tribe);\n    let flag = true;\n    const toDelete = this.nonEvictedIDs.indexOf(hero.id);\n    if (hero.isEvicted) return;\n    hero.isEvicted = true;\n    this.nonEvictedIDs.forEach((id) => {\n      this.neutral(h, this.houseguests[id].name);\n      this.neutral(this.houseguests[id].name, h);\n      this.utr(h, this.houseguests[id].name);\n      this.utr(this.houseguests[id].name, h);\n      const tribe = this.houseguests[id].tribe;\n      if (flag && tribe && tribeId(tribe) === myTribeId) {\n        tribe.size--;\n        flag = false;\n      }\n    });\n    this.nonEvictedIDs.splice(toDelete, 1);\n  }\n\n  public unevict(h: string) {\n    const hero = this.get(h);\n    if (!hero.isEvicted) return;\n    hero.isEvicted = false;\n    this.nonEvictedIDs.push(hero.id);\n  }\n\n  private addToLikeMap(l: Likemap, h: RelationshipHouseguest) {\n    l[h.id] = { tribeId: tribeId(h.tribe), groups: new Set<number>() };\n  }\n\n  private deleteFromLikeMap(l: Likemap, h: RelationshipHouseguest) {\n    delete l[h.id];\n  }\n\n  public setRelationship(\n    h: string,\n    v: string,\n    newR: boolean | undefined,\n    likeKey: LikeKey,\n    dislikeKey: DislikeKey,\n    map: Map\n  ) {\n    const hToV = this.getRelationship(h, v, map);\n    const hero = this.get(h);\n    const villain = this.get(v);\n    if (\n      hToV === newR ||\n      ((hero.isEvicted ||\n        hero.disabled ||\n        villain.disabled ||\n        villain.isEvicted) &&\n        newR !== undefined)\n    ) {\n      return;\n    }\n    if (hToV === undefined) {\n      this.addToLikeMap(villain[newR ? likeKey : dislikeKey], hero);\n    } else if (newR === undefined) {\n      this.deleteFromLikeMap(villain[hToV ? likeKey : dislikeKey], hero);\n    } else {\n      this.addToLikeMap(villain[newR ? likeKey : dislikeKey], hero);\n      this.deleteFromLikeMap(villain[newR ? dislikeKey : likeKey], hero);\n    }\n    // actually set it\n    hero[map][villain.id] = newR;\n    this.updatePopularities(villain, this.nonEvictedHouseguests - 1);\n  }\n  public tribe(skeleton: { name: string; color: string }, members: string[]) {\n    const tribe = {\n      size: members.filter((hg) => !this.get(hg).isEvicted).length, // only count non-evicted members\n      name: skeleton.name,\n      color: skeleton.color.toLowerCase(),\n    };\n    if (tribe.name.includes(\"#\") || tribe.name.includes(\"=\")) {\n      throw new Error(\"Tribe names cannot contain # or =\");\n    }\n    if (this.tribeIDs.has(tribeId(tribe))) {\n      throw new Error(`Tribe ${tribeId(tribe)} declared twice`);\n    }\n    this.tribeIDs.add(tribeId(tribe));\n    members.forEach((hg) => {\n      this.get(hg).tribe = tribe;\n    });\n  }\n  public like(hero: string, villain: string) {\n    this.setRelationship(\n      hero,\n      villain,\n      true,\n      \"likedBy\",\n      \"dislikedBy\",\n      \"relationships\"\n    );\n  }\n  public dislike(hero: string, villain: string) {\n    this.setRelationship(\n      hero,\n      villain,\n      false,\n      \"likedBy\",\n      \"dislikedBy\",\n      \"relationships\"\n    );\n  }\n  public neutral(hero: string, villain: string) {\n    this.setRelationship(\n      hero,\n      villain,\n      undefined,\n      \"likedBy\",\n      \"dislikedBy\",\n      \"relationships\"\n    );\n  }\n  public friends(hero: string, villain: string) {\n    this.like(hero, villain);\n    this.like(villain, hero);\n  }\n  public threat(h: string, v: string) {\n    this.setRelationship(\n      h,\n      v,\n      true,\n      \"thinksImThreat\",\n      \"thinksImWeak\",\n      \"powerRankings\"\n    );\n  }\n  public weak(h: string, v: string) {\n    this.setRelationship(\n      h,\n      v,\n      false,\n      \"thinksImThreat\",\n      \"thinksImWeak\",\n      \"powerRankings\"\n    );\n  }\n  public utr(h: string, v: string) {\n    this.setRelationship(\n      h,\n      v,\n      undefined,\n      \"thinksImThreat\",\n      \"thinksImWeak\",\n      \"powerRankings\"\n    );\n  }\n  public alliance(members: string[]) {\n    for (let i = 0; i < members.length; i++) {\n      for (let j = i + 1; j < members.length; j++) {\n        this.friends(members[i], members[j]);\n      }\n    }\n  }\n  public enemies(hero: string, villain: string) {\n    this.dislike(hero, villain);\n    this.dislike(villain, hero);\n  }\n}\n","import {\n  PortraitProps,\n  HouseguestPortrait,\n  PortraitState,\n} from \"../memoryWall\";\nimport { Subscription } from \"rxjs\";\nimport {\n  selectedPlayer$,\n  displayMode$,\n  getSelectedPlayer,\n  selectedTribe$,\n} from \"../../subjects/subjects\";\nimport { SelectedPlayerData } from \"./selectedPortrait\";\nimport { Rgb } from \"../../model/color\";\nimport { isNullOrUndefined } from \"util\";\nimport {\n  classifyRelationship,\n  RelationshipTypeToPopularity,\n} from \"../../utils/ai/classifyRelationship\";\nimport { tribeId, Tribe } from \"../../images/tribe\";\nimport _ from \"lodash\";\nimport {\n  calculatePopularity,\n  calculatePowerRanking,\n} from \"../../images/RelationshipMapper\";\n\nconst selectedColor = new Rgb(51, 255, 249);\n\nexport class HouseguestPortraitController {\n  private subs: Subscription[] = [];\n  private view: HouseguestPortrait;\n  constructor(view: HouseguestPortrait) {\n    this.view = view;\n  }\n  get defaultState(): PortraitState {\n    return {\n      popularity: this.view.props.popularity,\n      displayMode: displayMode$.value,\n      powerRanking: this.view.props.powerRanking,\n      disabled: !!this.view.props.disabled,\n      likedBy: this.view.props.likedBy,\n      dislikedBy: this.view.props.dislikedBy,\n      thinksImThreat: this.view.props.thinksImThreat,\n      thinksImWeak: this.view.props.thinksImWeak,\n    };\n  }\n  public backgroundColor(\n    props: PortraitProps,\n    state: PortraitState\n  ): undefined | string {\n    const selectedPlayer = getSelectedPlayer();\n    if (state.disabled) return undefined;\n    if (selectedPlayer !== null && selectedPlayer.id === props.id) {\n      return selectedColor.toHex();\n    }\n    return props.isEvicted || state.disabled\n      ? undefined\n      : this.view.state.displayMode.backgroundColor(this.view.state);\n  }\n\n  public subscribe() {\n    const subs: Subscription[] = [];\n    subs.push(\n      selectedPlayer$.subscribe({\n        next: this.refreshData,\n      })\n    );\n    subs.push(\n      selectedTribe$.subscribe({\n        next: this.refreshTribeFilter,\n      })\n    );\n    subs.push(\n      displayMode$.subscribe({\n        next: (displayMode) => this.view.setState({ displayMode }),\n      })\n    );\n    this.subs = subs;\n  }\n\n  public unsubscribe() {\n    this.subs.forEach((sub) => sub.unsubscribe());\n  }\n\n  private refreshTribeFilter = (selectedTribe: Tribe) => {\n    // un-disable all\n    if (!selectedTribe.name) {\n      this.refreshData(getSelectedPlayer());\n      return;\n    }\n    // o/w, disable if nessecary\n    const selectedPlayer = getSelectedPlayer();\n    this.updateLikeCounts(selectedTribe);\n    if (\n      tribeId(selectedTribe) !== tribeId(this.view.props.tribe) &&\n      selectedPlayer !== null &&\n      selectedPlayer.id === this.view.props.id\n    ) {\n      selectedPlayer$.next(null);\n    }\n  };\n\n  // this effectively restricts likeCounts to [people on the same tribe as me]\n  // this function can later be repurposed into accepting a more generic filter, such as a group in general\n  private updateLikeCounts(selectedTribe: Tribe) {\n    const props = this.view.props;\n    const disabled = tribeId(selectedTribe) !== tribeId(props.tribe);\n    const newState: any = {\n      disabled,\n    };\n    const f = hasSameTribe(tribeId(props.tribe));\n    newState.likedBy = _.filter(props.likedBy, f);\n    newState.dislikedBy = _.filter(props.dislikedBy, f);\n    newState.thinksImThreat = _.filter(props.thinksImThreat, f);\n    newState.thinksImWeak = _.filter(props.thinksImWeak, f);\n    if (!getSelectedPlayer() && !disabled) {\n      const n = props.tribe ? props.tribe.size : 0;\n      newState.popularity = calculatePopularity({ ...newState }, n);\n      newState.powerRanking = calculatePowerRanking({ ...newState }, n);\n    }\n    this.view.setState(newState);\n  }\n\n  private goToDefaultState() {\n    if (this.view.state.disabled) return;\n    if (tribeId(selectedTribe$.value)) {\n      this.updateLikeCounts(selectedTribe$.value);\n    } else {\n      this.view.setState(this.defaultState);\n    }\n  }\n\n  private refreshData = (data: SelectedPlayerData | null) => {\n    if (this.view.state.disabled) return;\n    if (!data) {\n      this.goToDefaultState();\n    } else {\n      if (data.id !== this.view.props.id) {\n        this.view.setState({\n          popularity: getPopularity(\n            this.view.props.relationships![data.id],\n            data.relationships[this.view.props.id!]\n          ),\n          powerRanking: getPowerRanking(\n            this.view.props.powerRankings![data.id],\n            data.powerRankings[this.view.props.id!]\n          ),\n        });\n      } else {\n        // note; popularity = 2 means the player is currently selected.\n        this.view.setState({\n          popularity: 2,\n          powerRanking: 2,\n        });\n      }\n    }\n  };\n}\ntype Rship = number | boolean | undefined;\n\nfunction getPowerRanking(hero: Rship, villain: Rship): number | undefined {\n  if (typeof hero === \"number\") {\n    return hero;\n  } else if (typeof villain === \"number\") {\n    return villain;\n  }\n  if (hero === true) return 1;\n  if (hero === false) return 0;\n  return undefined;\n}\n\nfunction getPopularity(hero: Rship, villain: Rship): number | undefined {\n  if (isNullOrUndefined(hero) && isNullOrUndefined(villain)) return undefined;\n\n  if (typeof hero === \"number\") {\n    return hero;\n  } else if (typeof villain === \"number\") {\n    return villain;\n  }\n\n  const relationshipType = classifyRelationship(0, 0, hero, villain);\n  return RelationshipTypeToPopularity[relationshipType];\n}\n\ninterface Like {\n  tribeId: string;\n  groups: Set<number>;\n}\n\nconst hasSameTribe = (tribe: string): ((l: Like) => boolean) => {\n  return (x: { tribeId: string; groups: Set<number> }): boolean => {\n    return tribe === x.tribeId;\n  };\n};\n","import React from \"react\";\nimport { selectPlayer } from \"./selectedPortrait\";\nimport { isNullOrUndefined } from \"util\";\nimport { RelationshipMap, DiscreteRelationshipMap } from \"../../utils\";\nimport _ from \"lodash\";\nimport { HouseguestPortraitController } from \"./houseguestPortraitController\";\nimport { PortraitDisplayMode } from \"../../model/portraitDisplayMode\";\nimport styled from \"styled-components\";\nimport { ColorTheme } from \"../../theme/theme\";\nimport { Tribe } from \"../../images/tribe\";\nimport { Likemap } from \"../../utils/likeMap\";\n\nconst Subtitle = styled.small`\n  font-weight: 100;\n  font-size: small;\n`;\n\nconst MemoryWallPortrait = styled.div`\n  margin: 5px;\n  border: 1px solid\n    ${({ theme }: { theme: ColorTheme }) => theme.portraitBorder};\n  color: black;\n  border-radius: 5px;\n  text-align: center;\n  font-weight: 600;\n  max-width: 7rem;\n  min-width: 7rem;\n  word-wrap: break-word;\n  -webkit-transition-property: none;\n  -moz-transition-property: none;\n  -o-transition-property: none;\n  transition-property: none;\n`;\n\nconst Evicted = styled(MemoryWallPortrait)`\n  font-weight: 100;\n  color: grey;\n  background-color: #111111;\n`;\n\nconst Jury = styled(MemoryWallPortrait)`\n  font-weight: 100;\n  color: #c3ae88;\n  background-color: #5d5340;\n  filter: brightness(0.6);\n`;\n\nconst Normal = styled.img`\n  min-width: 100px;\n  max-width: 110px;\n  height: 110px\n  width: -moz-available; /* For Mozzila */\n  width: -webkit-fill-available; /* For Chrome */\n`;\n\nconst Grayscale = styled(Normal)`\n  filter: grayscale(100%);\n`;\n\nconst Sepia = styled(Normal)`\n  filter: sepia(100%);\n`;\n\nexport interface PortraitProps {\n  imageURL: string;\n  name: string;\n  id?: number;\n  relationships?: RelationshipMap | DiscreteRelationshipMap;\n  popularity?: number;\n  powerRankings: DiscreteRelationshipMap;\n  powerRanking?: number;\n  isEvicted?: boolean;\n  disabled?: boolean;\n  deltaPopularity?: number;\n  detailed?: boolean;\n  superiors?: Set<number>;\n  //\n  likedBy: Likemap;\n  dislikedBy: Likemap;\n  thinksImWeak: Likemap;\n  thinksImThreat: Likemap;\n  tribe?: Tribe;\n}\n\nexport interface PortraitState {\n  popularity?: number;\n  powerRanking?: number;\n  displayMode: PortraitDisplayMode;\n  disabled: boolean;\n  likedBy: Likemap;\n  dislikedBy: Likemap;\n  thinksImWeak: Likemap;\n  thinksImThreat: Likemap;\n}\nexport class HouseguestPortrait extends React.Component<\n  PortraitProps,\n  PortraitState\n> {\n  private controller: HouseguestPortraitController;\n\n  public constructor(props: PortraitProps) {\n    super(props);\n    this.controller = new HouseguestPortraitController(this);\n    this.state = this.controller.defaultState;\n  }\n\n  public componentDidMount() {\n    if (isNullOrUndefined(this.props.id)) {\n      return;\n    }\n    this.controller.subscribe();\n  }\n\n  public componentWillUnmount() {\n    this.controller.unsubscribe();\n  }\n\n  private onClick(): void {\n    if (\n      isNullOrUndefined(this.props.id) ||\n      !this.props.relationships ||\n      this.state.disabled ||\n      this.props.isEvicted\n    ) {\n      return;\n    }\n    const data = {\n      id: this.props.id,\n      relationships: this.props.relationships,\n      isEvicted: !!this.props.isEvicted,\n      popularity: this.props.popularity || 0,\n      superiors: this.props.superiors,\n      powerRankings: this.props.powerRankings,\n    };\n    selectPlayer(data);\n  }\n\n  public render() {\n    const props = this.props;\n    const state = this.state;\n    const Img = getImageClass(props, state);\n    let subtitle: any[] = [];\n    subtitle = this.state.displayMode.generateSubtitle(\n      props,\n      state,\n      !!props.detailed\n    );\n\n    let Portrait = MemoryWallPortrait;\n    if (state.disabled) {\n      Portrait = Jury;\n    } else if (props.isEvicted) {\n      Portrait = Evicted;\n    }\n    return (\n      <Portrait\n        onClick={() => this.onClick()}\n        style={{\n          backgroundColor: this.controller.backgroundColor(props, this.state),\n        }}\n      >\n        <Img src={props.imageURL} />\n        <br />\n        {props.name}\n        <br />\n        <Subtitle>{subtitle}</Subtitle>\n      </Portrait>\n    );\n  }\n}\n\nfunction getImageClass(props: PortraitProps, state: PortraitState) {\n  let imageClass = props.isEvicted ? Grayscale : Normal;\n  imageClass = state.disabled ? Sepia : imageClass;\n  return imageClass;\n}\n","import { RelationshipMap, DiscreteRelationshipMap } from \"../../utils\";\nimport { getSelectedPlayer, selectedPlayer$ } from \"../../subjects/subjects\";\n\nexport interface SelectedPlayerData {\n  id: number;\n  popularity: number;\n  relationships: RelationshipMap | DiscreteRelationshipMap;\n  powerRankings: DiscreteRelationshipMap;\n  isEvicted: boolean;\n  superiors?: Set<number>;\n}\n\nexport function selectPlayer(player: SelectedPlayerData | null) {\n  if (\n    !player ||\n    (getSelectedPlayer() && getSelectedPlayer()!.id === player.id)\n  ) {\n    selectedPlayer$.next(null);\n  } else {\n    selectedPlayer$.next(player);\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { ColorTheme } from \"../../theme/theme\";\n\nconst ShadowBox = styled.div`\n  box-shadow: ${({ theme }: { theme: ColorTheme }) =>\n    theme.name === \"light\"\n      ? \"0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1)\"\n      : \"\"};\n  border-radius: 6px;\n  margin-left: 3px;\n  margin-right: 3px;\n  margin-bottom: 5px;\n  padding-bottom: 10px;\n  padding-top: 1px;\n  background: ${({ theme }: { theme: ColorTheme }) => theme.overlay};\n`;\n\nconst StyledBox = styled.div`\n  margin-left: 3px;\n  margin-right: 3px;\n  margin-bottom: 3px;\n  background: ${({ theme }: { theme: ColorTheme }) => theme.bodyArea};\n`;\n\nexport function DividerBox(props: any): JSX.Element {\n  return (\n    <ShadowBox className={props.className || \"\"} style={props.style || {}}>\n      {props.children}\n    </ShadowBox>\n  );\n}\n\nexport function Box(props: any): JSX.Element {\n  return (\n    <StyledBox style={props.style} className={`box ${props.className || \"\"}`}>\n      {props.children}\n    </StyledBox>\n  );\n}\n","import { ProfileHouseguest, HouseguestPortrait } from \"../memoryWall\";\nimport React from \"react\";\n\nexport function houseguestToPortrait(houseguest: ProfileHouseguest, key?: any): JSX.Element {\n    return <HouseguestPortrait {...houseguest} key={key} detailed={false} />;\n}\n\nexport function memoryWallPortrait(houseguest: ProfileHouseguest, key?: any): JSX.Element {\n    return <HouseguestPortrait {...houseguest} key={key} detailed={true} />;\n}\n","import React from \"react\";\nimport Popover from \"react-tiny-popover\";\nimport styled from \"styled-components\";\n\nconst Text = styled.p`\n    max-width: 200px;\n    padding: 3px 8px;\n    color: #fff;\n    text-align: center;\n    background-color: #000;\n    border-radius: 4px;\n`;\n\ninterface TooltipProps {\n    text: string;\n    children: any;\n}\n\ninterface ToolTipState {\n    visible: boolean;\n}\n\nexport class Tooltip extends React.Component<TooltipProps, ToolTipState> {\n    constructor(props: TooltipProps) {\n        super(props);\n        this.state = { visible: false };\n    }\n\n    public render() {\n        return (\n            <Popover\n                position={[\"top\", \"bottom\"]}\n                isOpen={this.state.visible}\n                content={<Text>{this.props.text}</Text>}\n            >\n                <div\n                    onMouseEnter={() => this.setState({ visible: true })}\n                    onMouseLeave={() => this.setState({ visible: false })}\n                >\n                    {this.props.children}\n                </div>\n            </Popover>\n        );\n    }\n}\n","import React from \"react\";\nimport { ProfileHouseguest } from \"../memoryWall\";\nimport { houseguestToPortrait, memoryWallPortrait } from \"./houseguestToPortrait\";\nimport { Tooltip } from \"../tooltip/tooltip\";\n\nlet key = -1;\n\nfunction PortraitWrapper(props: { centered?: boolean; children: any }): JSX.Element {\n    return (\n        <div\n            key={key++}\n            className={`columns is-gapless is-mobile is-multiline ${props.centered ? \"is-centered\" : \"\"}`}\n        >\n            {props.children}\n        </div>\n    );\n}\n\nexport function Portrait(props: { houseguest: ProfileHouseguest; centered?: boolean }): JSX.Element {\n    const result = (\n        <PortraitWrapper centered={props.centered}>{houseguestToPortrait(props.houseguest)}</PortraitWrapper>\n    );\n    if (props.houseguest.tooltip) {\n        return (\n            <PortraitWrapper centered={props.centered}>\n                <Tooltip text={props.houseguest.tooltip}>{houseguestToPortrait(props.houseguest)}</Tooltip>\n            </PortraitWrapper>\n        );\n    }\n    return result;\n}\n\nexport function Portraits(props: {\n    houseguests: ProfileHouseguest[];\n    centered?: boolean;\n    detailed?: boolean;\n}): JSX.Element {\n    const rows: JSX.Element[] = [];\n    if (!props.houseguests || props.houseguests.length === 0) {\n        return <div />;\n    }\n    props.houseguests.forEach((houseguest: ProfileHouseguest) => {\n        let result;\n        if (props.detailed) {\n            result = memoryWallPortrait(houseguest, key++);\n        } else {\n            result = houseguestToPortrait(houseguest, key++);\n        }\n        if (houseguest.tooltip) {\n            result = <Tooltip text={houseguest.tooltip}>{result}</Tooltip>;\n        }\n        rows.push(result);\n    });\n    return (\n        <div className={`columns is-gapless is-mobile is-multiline ${props.centered && \"is-centered\"}`}>\n            {rows}\n        </div>\n    );\n}\n","import React from \"react\";\nimport { DividerBox } from \"../layout/box\";\nimport { Portraits } from \"../playerPortrait/portraits\";\nimport { ProfileHouseguest } from \".\";\nimport styled from \"styled-components\";\nimport { textColor } from \"../../model/color\";\nimport { selectTribe } from \"./selectedTribe\";\nimport { Subscription } from \"rxjs\";\nimport { selectedTribe$ } from \"../../subjects/subjects\";\nimport { Tribe, tribeId } from \"../../images/tribe\";\n\ninterface TribeContainerProps {\n  hgs: ProfileHouseguest[];\n  tribe: Tribe;\n}\n\ninterface TribeContainerState {\n  selected: boolean;\n}\n\nexport class TribeContainer extends React.Component<\n  TribeContainerProps,\n  TribeContainerState\n> {\n  private subs: Subscription[] = [];\n\n  public constructor(props: TribeContainerProps) {\n    super(props);\n    this.state = { selected: false };\n  }\n  public componentDidMount() {\n    this.subs.push(\n      selectedTribe$.subscribe((selected) => {\n        this.setState({\n          selected: tribeId(selected) === tribeId(this.props.tribe),\n        });\n      })\n    );\n  }\n\n  public componentWillUnmount() {\n    this.subs.forEach((sub) => sub.unsubscribe());\n  }\n  private select() {\n    selectTribe(this.props.tribe);\n  }\n\n  public render() {\n    const Hoverable = this.getHoverable(this.props.tribe.color);\n    const tribeName = this.props.tribe.name;\n    return (\n      <DividerBox key={tribeName} style={{ textAlign: \"center\" }}>\n        {tribeName !== \"undefined\" && (\n          <p>\n            <Hoverable onClick={this.select.bind(this)}>{tribeName}</Hoverable>\n          </p>\n        )}\n        <div\n          style={{\n            margin: \"auto\",\n            maxWidth: this.props.hgs.length > 7 ? 700 : -1,\n          }}\n        >\n          <Portraits houseguests={this.props.hgs} centered={true}></Portraits>\n        </div>\n      </DividerBox>\n    );\n  }\n  private getHoverable = (color: string) => {\n    const normal = `background-color: ; color: ${color};`;\n    const hilite = `background-color: ${color}; color: ${textColor(color)};`;\n    const selected = this.state.selected;\n    return styled.b`\n      :not(:hover) {\n        ${selected ? hilite : normal}\n      }\n      :hover {\n        ${hilite}\n      }\n    `;\n  };\n}\n","import { Tribe, tribeId, nullTribe } from \"../../images/tribe\";\nimport { selectedTribe$ } from \"../../subjects/subjects\";\n\nexport function selectTribe(t: Tribe) {\n  if (tribeId(t) === tribeId(selectedTribe$.value)) {\n    selectedTribe$.next(nullTribe);\n  } else selectedTribe$.next(t);\n}\n","import React from \"react\";\nimport { PlayerProfile } from \"../../model\";\nimport { RelationshipMap, DiscreteRelationshipMap } from \"../../utils\";\nimport { Tribe, tribeId, nullTribe } from \"../../images/tribe\";\nimport _ from \"lodash\";\nimport { TribeContainer } from \"./tribeContainer\";\nimport { Likemap } from \"../../utils/likeMap\";\nexport interface IMemoryWallProps {\n  readonly houseguests: ProfileHouseguest[];\n}\n\nexport interface ProfileHouseguest extends PlayerProfile {\n  id?: number;\n  isEvicted?: boolean;\n  disabled?: boolean;\n  tribe?: Tribe;\n  //\n  relationships?: RelationshipMap | DiscreteRelationshipMap;\n  popularity?: number;\n  deltaPopularity?: number;\n  likedBy: Likemap;\n  dislikedBy: Likemap;\n  //\n  powerRankings: DiscreteRelationshipMap;\n  powerRanking?: number;\n  thinksImWeak: Likemap;\n  thinksImThreat: Likemap;\n  //\n  hohWins?: number;\n  povWins?: number;\n  nominations?: number;\n  tooltip?: string;\n}\n\nexport function MemoryWall(props: IMemoryWallProps): JSX.Element {\n  const houseguests = props.houseguests;\n  if (!houseguests || houseguests.length === 0) {\n    return <div />;\n  }\n  const houseguestsByTribe = _.groupBy(houseguests, (hg) =>\n    hg.tribe === undefined ? hg.tribe : hg.tribe.name\n  );\n  const tribes: JSX.Element[] = [];\n  _.forEach(houseguestsByTribe, (hgs, name) => {\n    if (name === \"undefined\" && _.size(houseguestsByTribe) > 1) {\n      return;\n    }\n    const tribe: Tribe = hgs[0].tribe ? hgs[0].tribe : nullTribe;\n    tribes.push(<TribeContainer key={tribeId(tribe)} {...{ tribe, hgs }} />);\n  });\n  return (\n    <div\n      style={{\n        margin: \"auto\",\n        maxWidth: -1,\n      }}\n    >\n      {tribes}\n    </div>\n  );\n}\n","import styled from \"styled-components\";\nimport { ColorTheme } from \"../../theme/theme\";\n\nexport const HasText = styled.div`\n    color: ${({ theme }: { theme: ColorTheme }) => theme.text};\n`;\n\nexport const Input = styled.input`\n    color: ${({ theme }: { theme: ColorTheme }) => theme.text};\n`;\n","import React from \"react\";\nimport { MemoryWall } from \"../memoryWall\";\nimport { HasText } from \"../layout/text\";\nimport { ViewsBar } from \"../viewsBar/viewBar\";\nimport { ProfileHouseguest } from \"../memoryWall/memoryWall\";\nimport { Subscription } from \"rxjs\";\nimport { players$ } from \"../../subjects/subjects\";\n\ninterface PregameScreenState {\n  cast: ProfileHouseguest[];\n}\n\nexport class MemoryWallScreen extends React.Component<{}, PregameScreenState> {\n  private subs: Subscription[] = [];\n  public constructor(props: never) {\n    super(props);\n    this.state = { cast: players$.value };\n  }\n\n  public componentDidMount() {\n    this.subs.push(\n      players$.subscribe((cast) => {\n        this.setState({ cast });\n      })\n    );\n  }\n\n  public componentWillUnmount() {\n    this.subs.forEach((sub) => sub.unsubscribe());\n  }\n\n  public render() {\n    if (this.state.cast.length === 0) {\n      return <HasText>Cast is empty.</HasText>;\n    }\n    return (\n      <HasText>\n        <MemoryWall houseguests={this.state.cast} />\n      </HasText>\n    );\n  }\n}\n","import React from \"react\";\nimport { roundTwoDigits } from \"../../utils\";\nimport { ProfileHouseguest, PortraitProps, PortraitState } from \"../memoryWall\";\nimport { SelectedPlayerData } from \"./selectedPortrait\";\nimport {\n  RelationshipTypeToSymbol,\n  RelationshipType as Relationship,\n  classifyRelationship,\n  ThreatLevelToSymbol,\n  ThreatLevel,\n} from \"../../utils/ai/classifyRelationship\";\nimport { getSelectedPlayer } from \"../../subjects/subjects\";\nimport { sizeOf } from \"../../utils/likeMap\";\n\nfunction threatLevelOf(a: boolean | undefined): string {\n  if (a === undefined) return \"-\";\n  if (a) return \" THREAT\";\n  return \" WEAK\";\n}\n\nfunction emptySubtitle(): JSX.Element[] {\n  return [<br key={1} />, <br key={2} />];\n}\n\nexport function generatePowerSubtitle(\n  hero: PortraitProps,\n  state: PortraitState,\n  _: boolean | undefined\n): any[] {\n  if (state.disabled) return emptySubtitle();\n  let key = 0;\n  let subtitle: any[] = [];\n  key = addPopularityLine(state, hero, !!_, subtitle, key);\n  key = addCompsLine(hero, subtitle, key);\n  if (!hero.isEvicted) {\n    const data = getSelectedPlayer() as SelectedPlayerData | null;\n    if (data && data.id !== hero.id) {\n      subtitle.push(\n        <div key={key++}>{`${threatLevelOf(hero.powerRankings[data.id])}`}</div>\n      );\n    } else if (data && data.id === hero.id) {\n      subtitle.push(<div key={key++}>I'M SEEN AS</div>);\n      subtitle.push(<div key={key++}>{threatLevelCountTitle(state)}</div>);\n    } else {\n      subtitle.push(<div key={key++}>{threatLevelCountTitle(state)}</div>);\n    }\n  } else {\n    subtitle.push(<br key={key++} style={{ lineHeight: 1 }} />);\n  }\n  return subtitle;\n}\n\nexport function generatePopularitySubtitle(\n  hero: PortraitProps,\n  state: PortraitState,\n  detailed: boolean = false\n): any[] {\n  if (state.disabled) return emptySubtitle();\n  // const data = getSelectedPlayer() as SelectedPlayerData | null;\n  let key = 0;\n  let subtitle: any[] = [];\n  // popularity\n  // key = addPopularityLine(state, hero, detailed, subtitle, key);\n  // competition wins\n  key = addCompsLine(hero, subtitle, key);\n  // friendship count / relationship classification titles\n  ({ subtitle, key } = addCountTitle(\n    hero,\n    state,\n    subtitle,\n    key,\n    friendOrEnemyTitle,\n    friendEnemyCountTitle\n  ));\n  // if (!data) subtitle.push(<br key={key++} style={{ lineHeight: 1 }} />);\n  return subtitle;\n}\n\nfunction addCountTitle(\n  hero: PortraitProps,\n  state: PortraitState,\n  subtitle: any[],\n  key: number,\n  discreteTitle: (a: PortraitProps, b: SelectedPlayerData) => string[],\n  countTitle: (a: PortraitState) => string[]\n) {\n  if (!hero.isEvicted) {\n    const data = getSelectedPlayer() as SelectedPlayerData | null;\n    if (data && data.id !== hero.id) {\n      const titles = discreteTitle(hero, data);\n      subtitle = subtitle.concat(\n        titles.map((txt) => <div key={key++}>{txt}</div>)\n      );\n    } else {\n      const titles = countTitle(state);\n      subtitle = subtitle.concat(\n        titles.map((txt) => <div key={key++}>{txt}</div>)\n      );\n    }\n  } else {\n    subtitle.push(<br key={key++} style={{ lineHeight: 1 }} />);\n  }\n  return { subtitle, key };\n}\n\nfunction addPopularityLine(\n  state: { popularity?: number },\n  hero: PortraitProps,\n  detailed: boolean,\n  subtitle: any[],\n  key: number\n) {\n  let popularity = state.popularity;\n  if (popularity && (popularity > 1 || popularity < -1)) {\n    popularity = hero.popularity;\n  }\n  if (popularity && !hero.isEvicted) {\n    let popularitySubtitle = `${roundTwoDigits(popularity)}%`;\n    const deltaPop = getDeltaPopularity(hero, popularity);\n    if (detailed && deltaPop !== 0) {\n      const arrow = deltaPop > 0 ? \" | \" : \" | \";\n      popularitySubtitle += `${arrow} ${deltaPop}%`;\n    }\n    subtitle.push(<div key={key++}>{\"\"}</div>); // hardcoded to do nothing for the discrete case.\n  }\n  return key;\n}\n\nfunction addCompsLine(hero: PortraitProps, subtitle: any[], key: number) {\n  if (compWins(hero)) {\n    subtitle.push(<div key={key++}>{`${compWins(hero)}`}</div>);\n  } else {\n    subtitle.push(<br key={key++} style={{ lineHeight: 1 }} />);\n  }\n  return key;\n}\n\nfunction getDeltaPopularity(\n  houseguest: PortraitProps,\n  statePopularity: number\n) {\n  if (\n    roundTwoDigits(houseguest.popularity) !== roundTwoDigits(statePopularity)\n  ) {\n    return 0;\n  }\n  return houseguest.deltaPopularity\n    ? roundTwoDigits(houseguest.deltaPopularity)\n    : 0;\n}\n\nfunction compWins(houseguest: ProfileHouseguest): string {\n  return `${houseguest.hohWins ? ` ${houseguest.hohWins}` : \"\"}${\n    houseguest.povWins && houseguest.hohWins\n      ? `| ${houseguest.povWins}`\n      : houseguest.povWins\n      ? ` ${houseguest.povWins}`\n      : \"\"\n  }${\n    (houseguest.hohWins || houseguest.povWins) && houseguest.nominations\n      ? \"|\"\n      : \"\"\n  }${houseguest.nominations ? ` ${houseguest.nominations}` : \"\"}`;\n}\n\nfunction friendOrEnemyTitle(\n  hero: PortraitProps,\n  villain: SelectedPlayerData\n): string[] {\n  const titles: string[] = [];\n  const heroRelationship: boolean | number | undefined = hero.relationships![\n    villain.id\n  ];\n  const villainRelationship: boolean | number | undefined =\n    villain.relationships[hero.id!];\n  titles.push(\n    RelationshipTypeToSymbol[\n      classifyRelationship(\n        hero.popularity || 0,\n        villain.popularity,\n        heroRelationship,\n        villainRelationship\n      )\n    ]\n  );\n  return titles;\n}\n\nfunction threatLevelCountTitle(hero: PortraitState): string[] {\n  const titles: string[] = [];\n  const count = {\n    friends: sizeOf(hero.thinksImThreat),\n    enemies: sizeOf(hero.thinksImWeak),\n  };\n  const friendCountText =\n    count.friends > 0\n      ? `${count.friends} ${ThreatLevelToSymbol[ThreatLevel.Threat]}`\n      : \"\";\n\n  const enemyCountText =\n    count.enemies > 0\n      ? `${count.enemies} ${ThreatLevelToSymbol[ThreatLevel.Weak]}`\n      : \"\";\n\n  titles.push(\n    `${friendCountText}${\n      friendCountText && enemyCountText && \" | \"\n    }${enemyCountText}`\n  );\n  return titles;\n}\n\nfunction friendEnemyCountTitle(hero: PortraitState): string[] {\n  const titles: string[] = [];\n  const count = {\n    friends: sizeOf(hero.likedBy),\n    enemies: sizeOf(hero.dislikedBy),\n  };\n  const friendCountText =\n    count.friends > 0\n      ? `${count.friends} ${RelationshipTypeToSymbol[Relationship.Friend]}`\n      : \"\";\n\n  const enemyCountText =\n    count.enemies > 0\n      ? `${count.enemies} ${RelationshipTypeToSymbol[Relationship.Enemy]}`\n      : \"\";\n\n  titles.push(\n    `${friendCountText}${\n      friendCountText && enemyCountText && \" | \"\n    }${enemyCountText}`\n  );\n  return titles;\n}\n","import { Rgb, interpolateColor } from \"./color\";\nimport { PortraitState, PortraitProps } from \"../components/memoryWall\";\nimport { extremeValues } from \"../utils\";\nimport {\n  generatePopularitySubtitle,\n  generatePowerSubtitle,\n} from \"../components/playerPortrait/subtitle\";\n\nexport interface PortraitDisplayMode {\n  minColor: Rgb;\n  maxColor: Rgb;\n  backgroundColor: (state: PortraitState) => string;\n  generateSubtitle: (\n    props: PortraitProps,\n    state: PortraitState,\n    detailed?: boolean\n  ) => any[];\n}\n\nconst popularityMinColor = new Rgb(252, 137, 137);\nconst popularityMaxColor = new Rgb(137, 252, 137);\n\nexport const popularityMode: PortraitDisplayMode = {\n  minColor: popularityMinColor,\n  maxColor: popularityMaxColor,\n  backgroundColor: (state: PortraitState) => {\n    const popularity = state.popularity;\n    if (popularity === undefined) {\n      return \"rgb(170, 170, 170)\";\n    }\n\n    const extremePopularity = extremeValues(popularity);\n    const percent = (extremePopularity + 1) / 2;\n    return interpolateColor(popularityMinColor, popularityMaxColor, percent);\n  },\n  generateSubtitle: generatePopularitySubtitle,\n};\n\nconst powerMinColor = new Rgb(192, 181, 255);\nconst powerMaxColor = new Rgb(255, 204, 94);\n/// originals ^^^^^\n// const powerMinColor = new Rgb(104, 128, 158); // blue\n\n// const powerMinColor = new Rgb(148, 16, 240);\n// const powerMaxColor = new Rgb(255, 143, 0);\n\nexport const powerMode: PortraitDisplayMode = {\n  minColor: powerMinColor,\n  maxColor: powerMaxColor,\n  backgroundColor: (state: PortraitState) => {\n    const powerRanking = state.powerRanking;\n    if (powerRanking === undefined) return \"rgb(170, 170, 170)\";\n    return interpolateColor(powerMinColor, powerMaxColor, powerRanking);\n  },\n  generateSubtitle: generatePowerSubtitle,\n};\n","export function hashcode(string: string): number {\n    let hash = 0,\n        i,\n        chr;\n    if (string.length === 0) return hash;\n    for (i = 0; i < string.length; i++) {\n        chr = string.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0;\n    }\n    return hash;\n}\n\nexport function roundTwoDigits(number: number | undefined) {\n    if (!number) {\n        return 0;\n    }\n    return Math.round(number * 100);\n}\n\nexport function max(a: number, b: number) {\n    return a > b ? a : b;\n}\n\nexport function extremeValues(x: number | undefined): number {\n    if (!x) {\n        return 0;\n    }\n    const xSquared = x * x;\n    if (x >= 0) {\n        return -xSquared + 2 * x;\n    } else {\n        return xSquared + 2 * x;\n    }\n}\n","import { BehaviorSubject, Subject } from \"rxjs\";\nimport { MemoryWallScreen } from \"../components/memoryWallScreen/memoryWallScreen\";\nimport { Episode, PlayerProfile } from \"../model\";\nimport { SelectedPlayerData } from \"../components/playerPortrait/selectedPortrait\";\nimport React from \"react\";\nimport {\n  PortraitDisplayMode,\n  popularityMode,\n} from \"../model/portraitDisplayMode\";\nimport { ColorTheme } from \"../theme/theme\";\nimport { ProfileHouseguest } from \"../components/memoryWall\";\nimport { Tribe, nullTribe } from \"../images/tribe\";\n\n// What is currently being displayed.\nexport const mainContentStream$ = new BehaviorSubject(<MemoryWallScreen />);\n// Push episodes to this subject to add them to the sidebar. Null resets everything.\nexport const episodes$ = new BehaviorSubject<Episode | null>(null);\n// Forcibly switches to an episode. Used when adding a new episode.\nexport const switchEpisode$ = new Subject<number>();\nexport function newEpisode(episode: Episode | null) {\n  episodes$.next(episode);\n}\nexport function switchSceneRelative(n: number) {\n  switchEpisode$.next(n);\n}\n\nexport const selectedTribe$ = new BehaviorSubject<Tribe>(nullTribe);\n\nexport const players$ = new BehaviorSubject<ProfileHouseguest[]>([]);\n\n// this variable is unused but if you delete it it breaks some race condition or something and the code compiles, but doesn't work anymore.\nexport const cast$ = new BehaviorSubject<PlayerProfile[]>([]);\n\n// The player that the user has clicked on.\nexport const selectedPlayer$ = new BehaviorSubject<SelectedPlayerData | null>(\n  null\n);\nexport function getSelectedPlayer() {\n  return selectedPlayer$.value;\n}\n\n// The display mode selected by the viewsbar.\nexport const displayMode$ = new BehaviorSubject<PortraitDisplayMode>(\n  popularityMode\n);\n\n// If the screen is fullscreen or not.\nexport const isFullscreen$ = new BehaviorSubject<boolean>(false);\nexport const theme$ = new Subject<ColorTheme>();\n","import prand from \"pure-rand\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { hashcode } from \"./utilities\";\nimport { cast$ } from \"../subjects/subjects\";\n\nexport class BbRandomGenerator {\n  private rng: prand.RandomGenerator;\n\n  public randomFloat(): number {\n    let result: number;\n    [result, this.rng] = this.rng.next();\n    return result / 2147483647.0;\n  }\n\n  public randomInt(a: number, b: number): number {\n    let result: number;\n    [result, this.rng] = prand.uniformIntDistribution(a, b, this.rng);\n    return result;\n  }\n\n  public flipCoin(): boolean {\n    let result: number;\n    [result, this.rng] = this.rng.next();\n    return result % 2 === 0;\n  }\n\n  public seed(seed: number) {\n    this.rng = prand.xorshift128plus(seed);\n  }\n\n  public constructor(seed: number) {\n    this.rng = prand.xorshift128plus(seed);\n  }\n}\n\nexport function rng() {\n  return rng$.value;\n}\n\nconst rng$ = new BehaviorSubject(new BbRandomGenerator(0));\n\n// theoretically this does nothing, but if you delete it the code stops working.\n// yay race conditions...?\nconst castSub = cast$.subscribe({\n  next: () => {},\n});\n","import { Houseguest } from \"./houseguest\";\nimport { PlayerProfile } from \"./playerProfile\";\nimport _ from \"lodash\";\nimport { newRelationshipMap, rng } from \"../utils\";\nimport { finalJurySize, getFinalists } from \"./season\";\nimport { EpisodeLog } from \"./logging/episodelog\";\n\nexport function getById(gameState: GameState, id: number): Houseguest {\n  return gameState.houseguestCache[id];\n}\n\nexport function exclude(inclusions: Houseguest[], exclusions: Houseguest[]) {\n  const excludedIds = exclusions.map((hg) => hg.id);\n  return inclusions.filter(\n    (hg) => !excludedIds.includes(hg.id) && !hg.isEvicted\n  );\n}\n\nexport function randomPlayer(\n  inclusions: Houseguest[],\n  exclusions: Houseguest[] = []\n): Houseguest {\n  if (inclusions.length === 0) {\n    throw new Error(\"Tried to get a random player from a list of 0 players.\");\n  }\n  const options = exclude(inclusions, exclusions);\n  const choice = rng().randomInt(0, options.length - 1);\n\n  return options[choice];\n}\n\nexport function nonEvictedHouseguests(gameState: GameState) {\n  return gameState.houseguests.filter((hg) => !hg.isEvicted);\n}\nexport function getJurors(gameState: GameState): Houseguest[] {\n  return gameState.houseguests.filter((hg) => hg.isJury);\n}\n\nexport function inJury(gameState: GameState): Boolean {\n  return gameState.remainingPlayers - getFinalists() <= finalJurySize();\n}\n\n// export function calculatePopularity(hero: Houseguest, house: Houseguest[]) {\n//     let sum = 0;\n//     let count = 0;\n//     const targetId = hero.id;\n//     house.forEach(houseguest => {\n//         if (houseguest.id !== targetId) {\n//             count++;\n//             sum += houseguest.relationships[targetId];\n//         }\n//     });\n//     return count === 0 ? 0 : sum / count;\n// }\n\nexport class GameState {\n  // Current state of the game after a phase.\n\n  readonly houseguestCache: { [id: number]: Houseguest } = {};\n  readonly houseguests: Houseguest[] = [];\n  readonly remainingPlayers: number = 0;\n  readonly phase: number = 0;\n  readonly previousHOH?: Houseguest;\n  readonly log: EpisodeLog[] = [];\n  get currentLog() {\n    return this.log[this.phase];\n  }\n\n  public constructor(init: PlayerProfile[] | GameState) {\n    if (!(init instanceof Array)) {\n      Object.assign(this, init);\n    } else {\n      const profiles = init as PlayerProfile[];\n      this.remainingPlayers = profiles.length;\n      profiles.forEach((profile, i) => {\n        const hg: Houseguest = new Houseguest({\n          ...profile,\n          id: i,\n          relationships: newRelationshipMap(profiles.length, i),\n        });\n        this.houseguestCache[i] = hg;\n        this.houseguests.push(hg);\n      });\n    }\n  }\n}\n\nexport class MutableGameState {\n  public houseguests: Houseguest[] = [];\n  public houseguestCache: { [id: number]: Houseguest } = {};\n  public remainingPlayers: number = 0;\n  public phase: number = 0;\n  public previousHOH?: Houseguest;\n  public log: EpisodeLog[] = [];\n  get currentLog() {\n    return this.log[this.phase];\n  }\n\n  public constructor(init: GameState | MutableGameState) {\n    const copy = _.cloneDeep(init);\n    Object.assign(this, copy);\n  }\n}\n","import { VoteType } from \"./voteType\";\n\nexport class EpisodeLog {\n    public nominationsPreVeto: string[] = [];\n    public vetoWinner?: string;\n    public winner?: number;\n    public runnerUp?: number;\n    public nominationsPostVeto: string[] = [];\n    public evicted: number = -1;\n    public votes: { [id: string]: VoteType } = {};\n    public votesInMajority: number = -1;\n    public outOf: number = -1;\n    public soleVoter?: string;\n}\n","import {\n  GameState,\n  MutableGameState,\n  nonEvictedHouseguests,\n} from \"../../model/gameState\";\nimport { Episode } from \"../../model\";\nimport { EpisodeType } from \"./episodes\";\nimport { EpisodeLog } from \"../../model/logging/episodelog\";\n\nexport class EpisodeFactory {\n  public nextEpisode(gameState: GameState, episodeType: EpisodeType): Episode {\n    let newState = new MutableGameState(gameState);\n    newState.phase++;\n    if (nonEvictedHouseguests(gameState).length > 2) {\n      newState.log[newState.phase] = new EpisodeLog();\n    }\n    throw new Error(\"You can't call this function.\");\n  }\n}\n","import React from \"react\";\nimport { PortraitDisplayMode } from \"../../model/portraitDisplayMode\";\nimport { displayMode$ } from \"../../subjects/subjects\";\nimport { Subscription } from \"rxjs\";\n\nfunction setDisplayMode(p: PortraitDisplayMode) {\n    displayMode$.next(p);\n}\n\ninterface ViewBarTagProps {\n    mode: PortraitDisplayMode;\n    text: string;\n    disabled?: boolean;\n}\n\nexport class ViewBarTag extends React.Component<ViewBarTagProps, { selected: boolean }> {\n    private sub: Subscription | null = null;\n\n    public constructor(props: ViewBarTagProps) {\n        super(props);\n        this.state = { selected: props.mode === displayMode$.value };\n    }\n\n    public componentDidMount() {\n        this.sub = displayMode$.subscribe({\n            next: (mode) => {\n                if (mode !== this.props.mode) {\n                    this.setState({ selected: false });\n                }\n            },\n        });\n    }\n\n    public componentWillUnmount() {\n        if (this.sub) this.sub.unsubscribe();\n    }\n\n    public render() {\n        const name = \"level-item tag is-medium is-light\";\n        const style = getStyle(this.props);\n        return (\n            <span\n                className={name}\n                style={style}\n                onClick={() => {\n                    !this.props.disabled && setDisplayMode(this.props.mode);\n                    !this.props.disabled && this.setState({ selected: true });\n                }}\n            >\n                {styleText(this.props.text, this.state.selected)}\n            </span>\n        );\n    }\n}\n\nfunction styleText(text: string, selected: boolean): JSX.Element {\n    return selected ? <b>{text}</b> : <i>{text}</i>;\n}\n\nfunction getStyle(props: ViewBarTagProps) {\n    return props.disabled\n        ? {}\n        : {\n              background: `linear-gradient(90deg, ${props.mode.minColor.toRgba()} 0%, ${props.mode.maxColor.toRgba()} 100%)`,\n              cursor: \"pointer\",\n          };\n}\n","import React from \"react\";\nimport { popularityMode, powerMode } from \"../../model/portraitDisplayMode\";\nimport { ViewBarTag } from \"./viewBarTag\";\nimport { Box } from \"../layout/box\";\nimport styled from \"styled-components\";\nimport { ColorTheme } from \"../../theme/theme\";\n\nconst ViewsBox = styled(Box)`\n  background: ${({ theme }: { theme: ColorTheme }) => theme.overlay};\n`;\n\nexport function ViewsBar() {\n  return (\n    <ViewsBox className=\"level is-mobile\" key=\"viewsbar\">\n      <ViewBarTag mode={popularityMode} text={\"Relationships\"}></ViewBarTag>\n      <ViewBarTag mode={powerMode} text={\"Threat Level\"}></ViewBarTag>\n      {/* <ViewBarTag mode={powerMode} disabled={true} text={\"Cliques [Coming Soon]\"}></ViewBarTag> */}\n    </ViewsBox>\n  );\n}\n","import React from \"react\";\nimport { GameState } from \"../../model/gameState\";\nimport { Scene } from \"./scene\";\nimport { ViewsBar } from \"../viewsBar/viewBar\";\n\nexport interface InitEpisode {\n  scenes: Scene[];\n  title: string;\n  content: JSX.Element;\n  gameState: GameState;\n  type: EpisodeType;\n}\n\nexport class Episode {\n  readonly scenes: Scene[];\n  readonly title: string;\n  readonly content: JSX.Element;\n  readonly gameState: GameState;\n  readonly type: EpisodeType;\n  readonly arrowsEnabled: boolean = true;\n  get render(): JSX.Element {\n    const viewsBar = this.type.hasViewsbar ? <ViewsBar /> : null;\n    return (\n      <div>\n        {viewsBar}\n        {this.content}\n      </div>\n    );\n  }\n\n  constructor(init: InitEpisode) {\n    this.scenes = init.scenes;\n    this.title = init.title;\n    this.content = init.content;\n    this.gameState = init.gameState;\n    this.type = init.type;\n  }\n}\n\nexport interface EpisodeType {\n  readonly canPlayWith: (n: number) => boolean;\n  readonly eliminates: number;\n  readonly arrowsEnabled: boolean;\n  readonly hasViewsbar: boolean;\n}\n","import {\n  MutableGameState,\n  getById,\n  inJury,\n  nonEvictedHouseguests,\n  GameState,\n  EpisodeType,\n  Episode,\n  InitEpisode,\n} from \"../../model\";\nimport { getFinalists, finalJurySize } from \"../../model/season\";\nimport { Scene } from \"./scene\";\n\nexport const BigBrotherVanilla: EpisodeType = {\n  canPlayWith: (n: number) => {\n    return n > 1;\n  },\n  eliminates: 1,\n  arrowsEnabled: true,\n  hasViewsbar: true,\n};\n\n// Refactoring ideas\n/**\n * Might be best to start passing ids instead of houseguests for HoH/nominees/veto winner\n */\n\nexport function evictHouseguest(gameState: MutableGameState, id: number) {\n  const evictee = getById(gameState, id);\n  if (gameState.currentLog) gameState.currentLog.evicted = evictee.id;\n  evictee.isEvicted = true;\n  if (gameState.remainingPlayers - getFinalists() <= finalJurySize()) {\n  }\n  if (inJury(gameState)) {\n    nonEvictedHouseguests(gameState).forEach((hg) => {\n      hg.superiors.delete(evictee.id);\n    });\n  }\n  gameState.remainingPlayers--;\n}\n\nexport function generateBbVanilla(initialGameState: GameState): null {\n  return null;\n}\nexport class BigBrotherVanillaEpisode extends Episode {\n  readonly title: string;\n  readonly scenes: Scene[];\n  readonly content: JSX.Element;\n  readonly gameState: GameState;\n  readonly type = BigBrotherVanilla;\n\n  public constructor(init: InitEpisode) {\n    super(init);\n    this.title = init.title;\n    this.scenes = init.scenes;\n    this.content = init.content;\n    this.gameState = init.gameState;\n  }\n}\n","import React from \"react\";\nimport { EpisodeType, Episode, InitEpisode } from \"./episodes\";\nimport { Scene } from \"./scene\";\nimport { GameState } from \"../../model\";\nimport { NextEpisodeButton } from \"../nextEpisodeButton/nextEpisodeButton\";\nimport { HasText } from \"../layout/text\";\n\nexport const BigBrotherFinale: EpisodeType = {\n  canPlayWith: (n: number) => n === 3,\n  eliminates: 2,\n  arrowsEnabled: true,\n  hasViewsbar: true,\n};\n\nexport function generateBbFinale(\n  initialGameState: GameState\n): BigBrotherFinaleEpisode {\n  const title = \"Finale\";\n  const content = (\n    <HasText>\n      Finale Night\n      <NextEpisodeButton />\n    </HasText>\n  );\n  const scenes: Scene[] = [];\n  return new BigBrotherFinaleEpisode({\n    gameState: initialGameState,\n    content,\n    title,\n    scenes,\n    type: BigBrotherFinale,\n  });\n}\n\nexport class BigBrotherFinaleEpisode extends Episode {\n  readonly title: string;\n  readonly scenes: Scene[];\n  readonly content: JSX.Element;\n  readonly gameState: GameState;\n  readonly type = BigBrotherFinale;\n\n  public constructor(init: InitEpisode) {\n    super(init);\n    this.title = init.title;\n    this.scenes = init.scenes;\n    this.content = init.content;\n    this.gameState = init.gameState;\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { ColorTheme } from \"../../theme/theme\";\n\ninterface TextProps {\n  noMargin?: boolean;\n  children?: any;\n  style?: any;\n  noTheme?: boolean;\n}\n\nconst NoMargin = styled.div`\n  text-align: center;\n  color: ${({ theme }: { theme: ColorTheme }) => theme.text};\n`;\nconst Center = styled.p`\n  text-align: center;\n  color: ${({ theme }: { theme: ColorTheme }) => theme.text};\n`;\n\nexport function Centered(props: TextProps): JSX.Element {\n  if (props.noMargin) return <NoMargin>{props.children}</NoMargin>;\n  return <Center style={props.style}>{props.children} </Center>;\n}\n\nexport function CenteredBold(props: TextProps): JSX.Element {\n  return (\n    <Centered {...props}>\n      <b style={props.style || {}}>{props.children} </b>\n    </Centered>\n  );\n}\n\nexport function CenteredItallic(props: TextProps): JSX.Element {\n  return (\n    <Centered noMargin={props.noMargin}>\n      <i>{props.children} </i>\n    </Centered>\n  );\n}\n","import React from \"react\";\nimport { isFullscreen$ } from \"../../subjects/subjects\";\nimport styled from \"styled-components\";\n\nconst FullscreenIcon = styled.img`\n    position: -webkit-sticky;\n    position: sticky;\n    top: 20px;\n    right: 20px;\n`;\n\nexport function FullscreenButton(): JSX.Element {\n    return (\n        <FullscreenIcon\n            src={\n                \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAASElEQVRIiWNgGAUEACMa/z+R6ohWz0Sqi0gFLIRcQAAQDAGa+2DoWzAKRgH1wX8G3OULWfqHfkYbsNIUPR5IrQ/gYLQsGngAAEPgCRZjAdYSAAAAAElFTkSuQmCC\"\n            }\n            className=\"button is-rounded\"\n            onClick={() => {\n                isFullscreen$.next(!isFullscreen$.getValue());\n            }}\n        />\n    );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { EpisodeLog } from \"../../../model/logging/episodelog\";\nimport { CenteredBold, Centered, CenteredItallic } from \"../../layout/centered\";\nimport { GameState, getById } from \"../../../model\";\nimport {\n  VoteType,\n  WinnerVote,\n  RunnerUpVote,\n} from \"../../../model/logging/voteType\";\nimport { FullscreenButton } from \"../../mainPage/fullscreenButton\";\nimport { ColorTheme } from \"../../../theme/theme\";\n\nexport const EndgameTableCell = styled.td`\n  padding: 0.1em 0.4em;\n  border: 1px solid\n    ${({ theme }: { theme: ColorTheme }) => theme.tableCellBorder};\n`;\n\nconst EndgameTable = styled.table`\n  border: 1px solid\n    ${({ theme }: { theme: ColorTheme }) => theme.tableCellBorder};\n  border-collapse: collapse;\n`;\n\nconst Gray = styled(EndgameTableCell)`\n  background-color: ${({ theme }: { theme: ColorTheme }) => theme.grayCell};\n`;\n\nconst White = styled(EndgameTableCell)`\n  background-color: ${({ theme }: { theme: ColorTheme }) =>\n    theme.lightGrayCell};\n`;\n\nconst Evicted = styled(EndgameTableCell)`\n  background-color: ${({ theme }: { theme: ColorTheme }) => theme.evictedCell};\n`;\n\nexport const WinnerCell = styled(EndgameTableCell)`\n  background-color: ${({ theme }: { theme: ColorTheme }) => theme.winnerCell};\n`;\n\nexport const RunnerUpCell = styled(EndgameTableCell)`\n  background-color: ${({ theme }: { theme: ColorTheme }) => theme.runnerUpCell};\n`;\n\nexport const NomineeCell = styled(EndgameTableCell)`\n  background-color: ${({ theme }: { theme: ColorTheme }) => theme.nomineeCell};\n`;\n\nexport const HohCell = styled(EndgameTableCell)`\n  background-color: ${({ theme }: { theme: ColorTheme }) => theme.hohCell};\n`;\n\nconst BlackRow = styled.tr`\n  height: 0.4em;\n  background-color: #000000;\n`;\n\nexport function generateVotingTable(gameState: GameState): JSX.Element {\n  const masterLog: EpisodeLog[] = gameState.log;\n  const houseguestCells: JSX.Element[][] = [];\n  gameState.houseguests.forEach((hg, i) => {\n    houseguestCells[hg.id] = [\n      <Gray key={`hg-name---${i}`}>\n        <CenteredBold noMargin={true}>{hg.name}</CenteredBold>\n      </Gray>,\n    ];\n  });\n  const evictionOrder: number[] = [];\n  const topRowCells: JSX.Element[] = [];\n  const preVetoCells: JSX.Element[] = [];\n  const vetoCells: JSX.Element[] = [];\n  const postVetoCells: JSX.Element[] = [];\n  const evictedCells: JSX.Element[] = [];\n  const winnerCells: JSX.Element[] = [];\n  masterLog.forEach((log, i) => {\n    generateTopRow(log, i, topRowCells, masterLog.length - 1);\n    generatePreVetoRow(log, i, preVetoCells);\n    generateVetoRow(log, i, vetoCells);\n    generatePostVetoRow(log, i, postVetoCells);\n    generateEvictedRow(log, i, evictedCells, gameState);\n    if (!log) return;\n    evictionOrder.push(log.evicted);\n    if (log.runnerUp !== undefined) evictionOrder.push(log.runnerUp);\n    if (log.winner !== undefined) evictionOrder.push(log.winner);\n    // add each of the votes to the houseguest cells\n    for (const [key, value] of Object.entries(log.votes)) {\n      // typescript for .. in loops kinda suck so i need to do a sketchy type conversion\n      const id: number = (key as unknown) as number;\n      const vote: VoteType = value;\n      houseguestCells[id].push(vote.render(gameState));\n    }\n    if (log.winner !== undefined && log.runnerUp !== undefined) {\n      houseguestCells[log.winner].push(new WinnerVote().render(gameState));\n      houseguestCells[log.runnerUp].push(new RunnerUpVote().render(gameState));\n      evictedCells.push(\n        <RunnerUpCell>\n          <CenteredBold noMargin={true}>\n            {getById(gameState, log.runnerUp).name}\n          </CenteredBold>\n          <Centered noMargin={true}>\n            <small>Finalist</small>\n          </Centered>\n        </RunnerUpCell>\n      );\n      winnerCells.push(\n        <WinnerCell>\n          <CenteredBold noMargin={true}>\n            {getById(gameState, log.winner).name}\n          </CenteredBold>\n          <Centered noMargin={true}>\n            <small>Winner</small>\n          </Centered>\n        </WinnerCell>\n      );\n    }\n  });\n  preVetoCells.push(\n    <White key={`preveto--finale`} rowSpan={3}>\n      <CenteredItallic noMargin={true}>(none)</CenteredItallic>\n    </White>\n  );\n  const winnerRow = <tr>{winnerCells}</tr>;\n  const topRow = <tr>{topRowCells}</tr>;\n  const preVetoRow = <tr>{preVetoCells}</tr>;\n  const vetoRow = <tr>{vetoCells}</tr>;\n  const postVetoRow = <tr>{postVetoCells}</tr>;\n  const blackRow = (\n    <BlackRow>\n      <td colSpan={gameState.houseguests.length} />\n    </BlackRow>\n  );\n  const houseguestRows: JSX.Element[] = [];\n  const evictedRow = <tr>{evictedCells}</tr>;\n  let evictionColSpan = -1;\n  const weeks = evictionOrder.length;\n  evictionOrder.reverse().forEach((id, i) => {\n    if (evictionColSpan > 0) {\n      const weekText = i === 2 ? \"(Finale)\" : `(Week ${weeks - i})`;\n      const isJury = getById(gameState, id).isJury;\n      const colSpan = isJury ? evictionColSpan - 1 : evictionColSpan;\n      const evicted = (\n        <Evicted colSpan={colSpan} key={`evicted-week-${weeks - i}`}>\n          <CenteredItallic noMargin={true}>Evicted</CenteredItallic>\n          <CenteredItallic noMargin={true}>\n            <small>{weekText}</small>\n          </CenteredItallic>\n        </Evicted>\n      );\n      if (!isJury) {\n        houseguestCells[id].push(evicted); // not jury, they dead\n      } else {\n        const tempList = houseguestCells[id].slice(0, -1);\n        tempList.push(evicted);\n        tempList.push(houseguestCells[id][houseguestCells[id].length - 1]);\n        houseguestCells[id] = tempList;\n      }\n    }\n    houseguestRows.push(<tr key={`hgrow--${id}`}>{houseguestCells[id]}</tr>);\n    evictionColSpan++;\n  });\n\n  return (\n    <div>\n      <FullscreenButton />\n      <EndgameTable>\n        <tbody>\n          {topRow}\n          {preVetoRow}\n          {vetoRow}\n          {postVetoRow}\n          {blackRow}\n          {houseguestRows}\n          {blackRow}\n          {evictedRow}\n          {winnerRow}\n        </tbody>\n      </EndgameTable>\n    </div>\n  );\n}\n\nfunction generateEvictedRow(\n  log: EpisodeLog | undefined,\n  i: number,\n  cells: JSX.Element[],\n  gameState: GameState\n) {\n  if (!log) {\n    cells.push(\n      <Gray key={i} rowSpan={2}>\n        <CenteredBold noMargin={true}>Evicted</CenteredBold>\n      </Gray>\n    );\n    return;\n  }\n\n  const voteTextLine1 =\n    log.soleVoter !== undefined ? `${log.soleVoter}'s choice` : \"\";\n\n  cells.push(\n    <Evicted key={i} rowSpan={2}>\n      <Centered noMargin={true}>\n        <b>{getById(gameState, log.evicted).name}</b>\n        <br />\n        <small>\n          {voteTextLine1} <br />\n          to evict\n        </small>\n      </Centered>\n    </Evicted>\n  );\n}\n\nfunction generatePostVetoRow(\n  log: EpisodeLog | undefined,\n  i: number,\n  cells: JSX.Element[]\n) {\n  if (!log) {\n    cells.push(\n      <Gray key={`postVeto--${i}`}>\n        <CenteredBold noMargin={true}>\n          Nominations\n          <br />\n          <small>(post-veto)</small>\n        </CenteredBold>\n      </Gray>\n    );\n    return;\n  }\n  cells.push(\n    <White key={`postVeto--${i}`}>\n      <Centered noMargin={true}>\n        {log.nominationsPostVeto[0]}\n        <br /> {log.nominationsPostVeto[1]}\n      </Centered>\n    </White>\n  );\n}\n\nfunction generateVetoRow(\n  log: EpisodeLog | undefined,\n  i: number,\n  cells: JSX.Element[]\n) {\n  if (!log) {\n    cells.push(\n      <Gray key={`veto--${i}`}>\n        <CenteredBold noMargin={true}>Veto Winner</CenteredBold>\n      </Gray>\n    );\n    return;\n  }\n  if (log.vetoWinner === undefined) return;\n\n  cells.push(\n    <White key={`veto--${i}`}>\n      <Centered noMargin={true}>{log.vetoWinner}</Centered>\n    </White>\n  );\n}\n\nfunction generatePreVetoRow(\n  log: EpisodeLog | undefined,\n  i: number,\n  cells: JSX.Element[]\n) {\n  if (!log) {\n    cells.push(\n      <Gray key={`preveto--${i}`}>\n        <CenteredBold noMargin={true}>\n          Nominations\n          <br />\n          <small>(pre-veto)</small>\n        </CenteredBold>\n      </Gray>\n    );\n    return;\n  }\n  if (log.nominationsPreVeto.length === 0) {\n    cells.push(\n      <White key={`preveto--${i}`} rowSpan={2}>\n        <CenteredItallic noMargin={true}>(none)</CenteredItallic>\n      </White>\n    );\n    return;\n  }\n  cells.push(\n    <White key={`preveto--${i}`}>\n      <Centered noMargin={true}>\n        {log.nominationsPreVeto[0]}\n        <br /> {log.nominationsPreVeto[1]}\n      </Centered>\n    </White>\n  );\n}\n\nfunction generateTopRow(\n  log: EpisodeLog | undefined,\n  i: number,\n  cells: JSX.Element[],\n  max: number\n) {\n  if (!log) {\n    cells.push(<Gray key={`toprow--${i}`} />);\n    return;\n  }\n  if (i === max) {\n    cells.push(\n      <Gray key={`toprow--${i}`} colSpan={2}>\n        <CenteredBold noMargin={true}>Finale</CenteredBold>\n      </Gray>\n    );\n    return;\n  }\n  cells.push(\n    <Gray key={`toprow--${i}`}>\n      <CenteredBold noMargin={true}>Week {i}</CenteredBold>\n    </Gray>\n  );\n}\n","import { Episode, InitEpisode, EpisodeType } from \"./episodes\";\nimport { Scene } from \"./scene\";\nimport { GameState } from \"../../model\";\nimport { evictHouseguest } from \"./bigBrotherEpisode\";\nimport { generateVotingTable } from \"./scenes/votingTable\";\n\nexport const GameOver: EpisodeType = {\n    canPlayWith: (n: number) => n === 1,\n    eliminates: 1,\n    arrowsEnabled: false,\n    hasViewsbar: false\n};\n\nexport function generateGameOver(gameState: GameState): GameOverEpisode {\n    const title = \"Game Over\";\n    const scenes: Scene[] = [];\n    const content = generateVotingTable(gameState);\n    gameState.houseguests.forEach(hg => {\n        evictHouseguest(gameState, hg.id);\n    });\n    return new GameOverEpisode({ gameState, content, title, scenes, type: GameOver });\n}\n\nexport class GameOverEpisode extends Episode {\n    readonly title: string;\n    readonly scenes: Scene[];\n    readonly content: JSX.Element;\n    readonly gameState: GameState;\n\n    public constructor(init: InitEpisode) {\n        super(init);\n        this.title = init.title;\n        this.scenes = init.scenes;\n        this.content = init.content;\n        this.gameState = init.gameState;\n    }\n}\n","import { BigBrotherVanilla } from \"../components/episode/bigBrotherEpisode\";\nimport { EpisodeFactory } from \"../components/episode/episodeFactory\";\nimport { GameState } from \"./gameState\";\nimport { EpisodeType, Episode } from \".\";\nimport { BigBrotherFinale } from \"../components/episode/bigBrotherFinale\";\nimport { GameOver } from \"../components/episode/gameOver\";\n\nexport function finalJurySize() {\n  return jurors;\n}\n\nlet jurors = 7;\n\nexport function getFinalists() {\n  return 2;\n}\n\nexport class Season {\n  private factory: EpisodeFactory;\n\n  public constructor() {\n    this.factory = new EpisodeFactory();\n  }\n\n  // In the future, this would all be customizable,\n  // and not just all big brother episodes by default.\n\n  public renderEpisode(gameState: GameState, type: EpisodeType): Episode {\n    return this.factory.nextEpisode(gameState, type);\n  }\n\n  public whichEpisodeType(players: number) {\n    if (players === 3) {\n      return BigBrotherFinale;\n    }\n    if (players === 2) {\n      return GameOver;\n    }\n    return BigBrotherVanilla;\n  }\n}\n","import { Subscription } from \"rxjs\";\nimport { Sidebar } from \"./sidebar\";\nimport { Season } from \"../../model/season\";\nimport { Episode, nonEvictedHouseguests, getById } from \"../../model\";\nimport { Scene } from \"../episode/scene\";\nimport {\n  mainContentStream$,\n  episodes$,\n  switchEpisode$,\n  newEpisode,\n  switchSceneRelative,\n  getSelectedPlayer,\n  selectedPlayer$,\n} from \"../../subjects/subjects\";\n\ninterface IndexedScene {\n  scene: Scene;\n  index: number;\n}\n\nconst LEFT = 37;\nconst RIGHT = 39;\n\nexport class SidebarController {\n  private view: Sidebar;\n  private subscriptions: Subscription[] = [];\n  private season: Season = new Season();\n  private scenes: IndexedScene[] = [];\n  private selectedEpisode: number = 0;\n\n  public constructor(view: Sidebar) {\n    this.view = view;\n    this.subscriptions.push(\n      episodes$.subscribe({\n        next: (episode) => this.onNewEpisode(episode),\n      })\n    );\n    this.subscriptions.push(\n      switchEpisode$.subscribe({\n        next: (value: number) => {\n          this.switchSceneRelative(value);\n        },\n      })\n    );\n  }\n\n  public getSelectedEpisode() {\n    return this.selectedEpisode;\n  }\n\n  public async switchToScene(id: number) {\n    mainContentStream$.next(this.scenes[id].scene.render);\n    this.selectedEpisode = this.scenes[id].index;\n    await this.view.setState({ selectedScene: id });\n    if (getSelectedPlayer() !== null) {\n      selectedPlayer$.next(\n        getById(\n          this.scenes[this.view.state.selectedScene].scene.gameState,\n          getSelectedPlayer()!.id\n        )\n      );\n    }\n  }\n\n  private switchSceneRelative = (delta: number) => {\n    const selectedScene = this.view.state.selectedScene;\n    const renderedScenes = this.scenes.length;\n    const targetScene = selectedScene + delta;\n    if (targetScene < 0) {\n      return;\n    }\n    const lastEpisode = this.view.state.episodes[\n      this.view.state.episodes.length - 1\n    ];\n    if (targetScene < renderedScenes) {\n      // Go back to an earlier scene\n      this.switchToScene(targetScene);\n    } else if (targetScene === renderedScenes) {\n      // Generate a new scene, then jump to it\n      const currentGameState = lastEpisode.gameState;\n      const newPlayerCount = nonEvictedHouseguests(lastEpisode.gameState)\n        .length;\n      const nextEpisodeType = this.season.whichEpisodeType(newPlayerCount);\n      if (newPlayerCount > 0) {\n        newEpisode(\n          this.season.renderEpisode(currentGameState, nextEpisodeType)\n        );\n        this.switchSceneRelative(1);\n      }\n    }\n  };\n\n  get handleKeyDown(): (e: any) => void {\n    return this._handleKeyDown.bind(this);\n  }\n\n  private _handleKeyDown(event: any) {\n    const state = this.view.state;\n\n    if (\n      state.episodes[this.selectedEpisode] === undefined ||\n      !state.episodes[this.selectedEpisode].type.arrowsEnabled\n    ) {\n      return;\n    }\n    if (event.keyCode === LEFT) {\n      switchSceneRelative(-1);\n    } else if (event.keyCode === RIGHT) {\n      switchSceneRelative(1);\n    }\n  }\n\n  private onNewEpisode(episode: Episode | null) {\n    if (!episode) {\n      this.view.setState({ episodes: [], selectedScene: 0 });\n      this.scenes = [];\n    } else {\n      const newState = { ...this.view.state };\n      // starts at -1: prevent OBOE\n      const latestIndex =\n        this.scenes.length === 0\n          ? -1\n          : this.scenes[this.scenes.length - 1].index;\n      const index = latestIndex + 1;\n      this.scenes.push({ scene: episode, index });\n      episode.scenes.forEach((scene) => this.scenes.push({ scene, index }));\n      newState.episodes.push(episode);\n      this.view.setState(newState);\n    }\n  }\n\n  public destroy() {\n    this.subscriptions.forEach((sub) => sub.unsubscribe());\n  }\n}\n","import React from \"react\";\nimport { SidebarController } from \"./sidebarController\";\nimport { Episode, GameState } from \"../../model\";\nimport { Scene } from \"../episode/scene\";\nimport { newEpisode } from \"../../subjects/subjects\";\nimport { Box } from \"../layout/box\";\nimport { HasText } from \"../layout/text\";\ninterface SidebarState {\n  episodes: Episode[];\n  selectedScene: number;\n}\n\nexport class Sidebar extends React.Component<{}, SidebarState> {\n  private controller: SidebarController;\n  public constructor(props: {}) {\n    super(props);\n    this.controller = new SidebarController(this);\n    this.state = { episodes: [], selectedScene: 0 };\n  }\n\n  public componentDidMount() {\n    document.addEventListener(\"keydown\", this.controller.handleKeyDown);\n  }\n\n  public componentWillUnmount() {\n    this.controller.destroy();\n  }\n\n  public render() {\n    return (\n      <Box style={{ minWidth: 180, display: \"none\" }}>\n        <HasText>{this.getEpisodes()}</HasText>\n      </Box>\n    );\n  }\n\n  private getHighlight(title: string, key: number) {\n    if (key === this.state.selectedScene) {\n      return <mark>{title}</mark>;\n    }\n    return title;\n  }\n\n  private getEpisodes() {\n    const result: JSX.Element[] = [];\n    // Weird OBOE to make keys start at 0\n    let episodeKey = -1;\n    let breakKey = 0;\n    this.state.episodes.forEach((episode: Episode) => {\n      const id = ++episodeKey;\n      result.push(\n        <b\n          key={id}\n          onClick={() => {\n            this.controller.switchToScene(id);\n          }}\n        >\n          {this.getHighlight(episode.title, id)}\n        </b>\n      );\n      result.push(<br key={--breakKey} />);\n      episode.scenes.forEach((scene: Scene) => {\n        const id = ++episodeKey;\n        if (this.controller.getSelectedEpisode() === episode.gameState.phase) {\n          result.push(\n            <a key={id} onClick={() => this.controller.switchToScene(id)}>\n              {this.getHighlight(scene.title, id)}\n            </a>\n          );\n          result.push(<br key={--breakKey} />);\n        }\n      });\n    });\n    return result;\n  }\n}\n","export const Base64 = (function () {\n  var digitsStr =\n    \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+-\";\n  var digits = digitsStr.split(\"\");\n  var digitsMap: Map<string, number> = new Map<string, number>();\n  for (var i = 0; i < digits.length; i++) {\n    digitsMap.set(digits[i], i);\n  }\n  return {\n    fromInt: function (int32: number) {\n      var result = \"\";\n      while (true) {\n        result = digits[int32 & 0x3f] + result;\n        int32 >>>= 6;\n        if (int32 === 0) break;\n      }\n      return result;\n    },\n    toInt: function (digitsStr: string) {\n      var result = 0;\n      var digits = digitsStr.split(\"\");\n      for (var i = 0; i < digits.length; i++) {\n        const m = digitsMap.get(digits[i]);\n        if (m === undefined)\n          throw new Error(\"Tried to decode an invalid B64 string\");\n        result = (result << 6) + m;\n      }\n      return result;\n    },\n  };\n})();\n","import {\n  RelationshipMapper,\n  RelationshipHouseguest,\n} from \"./RelationshipMapper\";\nimport { CodedRelationships } from \"./encoder\";\nimport { Base64 } from \"../utils/base64\";\nimport _ from \"lodash\";\n\nexport function decodeToRelationshipMapper(\n  m: RelationshipMapper,\n  c1: string\n): RelationshipMapper | null {\n  const r = new RelationshipMapper(_.cloneDeep(m.houseguests));\n  r.reset();\n  const c = c1.trim();\n  try {\n    if (c.split(\"|\").length !== 4) throw new Error(`Not a code`);\n    const [tribes, evictees, relationships, powerRankings] = c.split(\"|\");\n    if (\n      relationships.length % 2 > 0 ||\n      evictees.length % 2 > 0 ||\n      powerRankings.length % 2 > 0\n    )\n      throw new Error(\n        `Misaligned bytes: (${evictees.length}, ${relationships.length}, ${powerRankings.length}`\n      );\n    decodeEvictees(r, evictees);\n    decodeTribes(r, tribes);\n    decodeRelationships(r, { relationships, powerRankings });\n  } catch (e) {\n    alert(e);\n    return null;\n  }\n  return r;\n}\n\nconst decode = (s: string) => Base64.toInt(s).toString(3).padStart(7, \"0\"); // base64 --> ternary\n\nconst ternaryToRelationship = new Map<string, boolean | undefined>(\n  Object.entries({\n    \"0\": false,\n    \"1\": true,\n    \"2\": undefined,\n  })\n);\nfunction fromTernary(n: string): boolean | undefined {\n  const result = ternaryToRelationship.get(n);\n  if (result === undefined && n !== \"2\")\n    throw new Error(`${n} is not a ternary value`);\n  return result;\n}\nconst chex = /([a-f0-9]){6}/;\n\nfunction decodeTribes(m: RelationshipMapper, c: string) {\n  const tribes: string[] = c.split(\"=\");\n  tribes.forEach((t) => {\n    const hash = t.indexOf(\"#\");\n    if (hash === -1) throw new Error(\"Invalid tribe, does not have a color\");\n    const tribeName = t.slice(0, hash);\n    const color = t.slice(hash + 1, hash + 7);\n    const members = t.slice(hash + 7);\n    if (!chex.test(color)) throw new Error(`Invalid color: ${color}`);\n    const tribemates: string[] = [];\n    let i = 0;\n    while (members[2 * i] !== undefined) {\n      tribemates.push(\n        codeToHouseguest(m, `${members[2 * i]}${members[2 * i + 1]}`, \"tribes\")\n          .name\n      );\n      i++;\n    }\n    m.tribe({ color: `#${color}`, name: tribeName }, tribemates);\n  });\n}\n\nfunction codeToHouseguest(\n  m: RelationshipMapper,\n  c: string,\n  e?: string\n): RelationshipHouseguest {\n  const lookedUp: number = Base64.toInt(c);\n  if (lookedUp >= m.houseguests.length)\n    throw new Error(\n      `${lookedUp} (${c}) exceeds the maximum id: ${m.houseguests.length} in ${e}`\n    );\n  return m.houseguests[lookedUp];\n}\n\nfunction decodeEvictees(m: RelationshipMapper, c: string) {\n  let i = 0;\n  while (c[2 * i] !== undefined) {\n    m.evict(codeToHouseguest(m, `${c[2 * i]}${c[2 * i + 1]}`, \"evictees\").name);\n    i++;\n  }\n}\n\nfunction decodeRelationships(m: RelationshipMapper, c: CodedRelationships) {\n  let decodedR = \"\";\n  let decodedP = \"\";\n  let r: number = 0;\n  let p: number = 0;\n  const [relationships, powerRankings] = [c.relationships, c.powerRankings];\n  m.houseguests.forEach((hg) => {\n    if (hg.isEvicted || hg.disabled) return;\n    m.nonEvictedIDs.forEach((id) => {\n      if (hg.id === id) return;\n      //////////////////////////////////////////////// relationships\n      if (decodedR.length === 0) {\n        decodedR = decode(`${relationships[r]}${relationships[r + 1]}`);\n        r += 2;\n      }\n      m.setRelationship(\n        hg.name,\n        m.houseguests[id].name,\n        fromTernary(decodedR[0]),\n        \"likedBy\",\n        \"dislikedBy\",\n        \"relationships\"\n      );\n      decodedR = decodedR.slice(1);\n      //////////////////////////////////////////////// powerRankings\n      if (decodedP.length === 0) {\n        decodedP = decode(`${powerRankings[p]}${powerRankings[p + 1]}`);\n        p += 2;\n      }\n      m.setRelationship(\n        hg.name,\n        m.houseguests[id].name,\n        fromTernary(decodedP[0]),\n        \"thinksImThreat\",\n        \"thinksImWeak\",\n        \"powerRankings\"\n      );\n      decodedP = decodedP.slice(1);\n    });\n  });\n}\n","import { Topbar } from \"./topBar\";\nimport { decodeToRelationshipMapper } from \"../../images/decoder\";\nimport { RelationshipMapper } from \"../../images/RelationshipMapper\";\nimport {\n  players$,\n  selectedPlayer$,\n  selectedTribe$,\n} from \"../../subjects/subjects\";\nimport { nullTribe } from \"../../images/tribe\";\n\nexport class TopbarController {\n  private view: Topbar;\n  public constructor(view: Topbar) {\n    this.view = view;\n  }\n  public onSubmit = () => {\n    if (!this.view.state.inputCode) return;\n    const newMap: RelationshipMapper | null = decodeToRelationshipMapper(\n      this.view.state.rMapper,\n      this.view.state.inputCode\n    );\n    this.view.setState({ inputCode: \"\" });\n    if (newMap === null) return;\n\n    this.view.setState({ rMapper: newMap });\n    players$.next(newMap.houseguests);\n    selectedPlayer$.next(null);\n    selectedTribe$.next(nullTribe);\n  };\n}\n","import { newDiscreteRelationshipMap, hashcode } from \"../utils\";\nimport prand from \"pure-rand\";\nimport {\n  RelationshipMapper,\n  RelationshipHouseguest,\n} from \"./RelationshipMapper\";\n\nfunction importAll(\n  context: __WebpackModuleApi.RequireContext\n): RelationshipMapper {\n  const profiles: RelationshipHouseguest[] = [];\n  setupProfiles(context, profiles, new Set<string>(), new Set<string>());\n  const r: RelationshipMapper = new RelationshipMapper(profiles);\n\n  // randomRelationships(r);\n  // r.evict(\"kuduku\");\n  // console.log(encodeRelationshipMapper(r));\n  return r;\n}\n\n////////////////// safe space below here\n\nexport const initialProfiles = importAll(\n  require.context(\"./src\", false, /.jpg/)\n);\n\nfunction setupProfiles(\n  context: __WebpackModuleApi.RequireContext,\n  profiles: RelationshipHouseguest[],\n  evictedHouseguests: Set<string>,\n  jurors: Set<string>\n) {\n  context.keys().map((item: string, i: number) => {\n    const name = item.replace(\".jpg\", \"\").replace(\"./\", \"\");\n    profiles.push({\n      name,\n      imageURL: context(item),\n      id: i,\n      isEvicted: evictedHouseguests.has(name.toLowerCase()),\n      disabled: jurors.has(name.toLowerCase()),\n      relationships: newDiscreteRelationshipMap(context.length - 1, i),\n      powerRankings: newDiscreteRelationshipMap(context.length - 1, i),\n      likedBy: {},\n      dislikedBy: {},\n      thinksImThreat: {},\n      thinksImWeak: {},\n    });\n  });\n}\n\nfunction randomInt(\n  a: number,\n  b: number,\n  rng: prand.RandomGenerator\n): [number, prand.RandomGenerator] {\n  let result: number;\n  [result, rng] = prand.uniformIntDistribution(a, b, rng);\n  return [result, rng];\n}\nfunction randomChoice(\n  a: (number | boolean | undefined)[],\n  rng: prand.RandomGenerator\n): [number | boolean | undefined, prand.RandomGenerator] {\n  const [result, rng2] = randomInt(0, a.length - 1, rng);\n  return [a[result], rng2];\n}\n\nfunction randomRelationships(r: RelationshipMapper) {\n  let castNames = \"\";\n  r.houseguests.forEach((houseguest) => (castNames += houseguest.name));\n  let rng = prand.xorshift128plus(hashcode(castNames));\n  const hgs = r.houseguests;\n  for (let i = 0; i < hgs.length; i++) {\n    const hero = hgs[i].name;\n    for (let j = i + 1; j < hgs.length; j++) {\n      const villain = hgs[j].name;\n      let r1;\n      let r2;\n      [r1, rng] = randomChoice([true, false, undefined], rng);\n      [r2, rng] = randomChoice([true, false, undefined], rng);\n      r.setRelationship(\n        hero,\n        villain,\n        r1 as any,\n        \"likedBy\",\n        \"dislikedBy\",\n        \"relationships\"\n      );\n      r.setRelationship(\n        villain,\n        hero,\n        r2 as any,\n        \"likedBy\",\n        \"dislikedBy\",\n        \"relationships\"\n      );\n      [r1, rng] = randomChoice([true, false, undefined], rng);\n      [r2, rng] = randomChoice([true, false, undefined], rng);\n      r.setRelationship(\n        hero,\n        villain,\n        r1 as any,\n        \"thinksImThreat\",\n        \"thinksImWeak\",\n        \"powerRankings\"\n      );\n      r.setRelationship(\n        villain,\n        hero,\n        r2 as any,\n        \"thinksImThreat\",\n        \"thinksImWeak\",\n        \"powerRankings\"\n      );\n    }\n  }\n}\n","import React from \"react\";\nimport { Box } from \"../layout/box\";\nimport { HasText } from \"../layout/text\";\nimport { TopbarController } from \"./topBarController\";\nimport { RelationshipMapper } from \"../../images/RelationshipMapper\";\nimport { initialProfiles } from \"../../images/initialProfiles\";\nimport { players$ } from \"../../subjects/subjects\";\n\ninterface TopbarProps {\n  style?: any;\n}\ninterface TopbarState {\n  inputCode: string;\n  rMapper: RelationshipMapper;\n}\nexport class Topbar extends React.Component<TopbarProps, TopbarState> {\n  private controller: TopbarController;\n\n  public constructor(props: TopbarProps) {\n    super(props);\n    this.controller = new TopbarController(this);\n    this.state = { inputCode: \"\", rMapper: initialProfiles };\n  }\n\n  public componentDidMount() {\n    players$.next(this.state.rMapper.houseguests);\n  }\n  private handleChange = ((event: { target: { value: string } }) => {\n    this.setState({ inputCode: event.target.value });\n  }).bind(this);\n\n  public render(): JSX.Element {\n    const style = { ...{ marginTop: 30 }, ...(this.props.style || {}) };\n    return (\n      <Box className=\"level is-mobile\" style={style}>\n        <HasText className=\"level-item\">\n          Enter Code:\n          <input\n            className=\"input\"\n            value={this.state.inputCode}\n            onChange={this.handleChange}\n          />\n          <button\n            disabled={!!!this.state.inputCode}\n            className={`button is-light`}\n            onClick={this.controller.onSubmit}\n          >\n            Submit\n          </button>\n        </HasText>\n      </Box>\n    );\n  }\n}\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport { mainContentStream$ } from \"../../subjects/subjects\";\nimport { Box } from \"../layout/box\";\n\nconst MainContentAreaWrapper = styled(Box)`\n    overflow-x: auto;\n`;\n\nexport class MainContentArea extends React.Component<{}, { content: any }> {\n    // a simple class that displays whatever it gets fed through the main content stream.\n\n    private contentStream: any;\n\n    public constructor(props: any) {\n        super(props);\n        this.state = { content: null };\n    }\n\n    public componentDidMount() {\n        this.contentStream = mainContentStream$.subscribe((content) => {\n            this.setState({ content });\n        });\n    }\n\n    public componentDidUpdate(prevProps: never, prevState: any) {\n        if (prevState.content !== this.state.content) {\n            window.scrollTo(0, 0);\n        }\n    }\n\n    public componentWillUnmount() {\n        this.contentStream.unsubscribe();\n    }\n\n    public render() {\n        return <MainContentAreaWrapper>{this.state.content}</MainContentAreaWrapper>;\n    }\n}\n","import \"./bulma.scss\";\nimport React from \"react\";\nimport { Sidebar } from \"../sidebar/sidebar\";\nimport { Topbar } from \"../topbar/topBar\";\nimport { MainContentArea } from \"./mainContentArea\";\nimport { MainPageController } from \"./mainPageController\";\n\ninterface MainPageProps {\n  controller: MainPageController;\n}\n\ninterface MainPageState {\n  fullscreen: boolean;\n}\n\nexport class MainPage extends React.Component<MainPageProps, MainPageState> {\n  public constructor(props: MainPageProps) {\n    super(props);\n    this.state = { fullscreen: false };\n    props.controller.inject(this);\n  }\n  public componentDidMount() {\n    this.props.controller.subscribe();\n  }\n  public componentWillUnmount() {\n    this.props.controller.unsubscribe();\n  }\n\n  public render() {\n    const fullscreen = this.state.fullscreen;\n    const hideOnFullscreen = { display: fullscreen ? \"none\" : \"\" };\n    const wrapperStyle = fullscreen\n      ? { margin: \"auto\" }\n      : { margin: \"auto\", maxWidth: 1380, overflow: \"hidden\" };\n    return (\n      <div style={wrapperStyle}>\n        <Sidebar />\n        <Topbar style={hideOnFullscreen} />\n        <div className=\"columns\">\n          <div className=\"column\" style={{ overflowX: \"hidden\" }}>\n            <MainContentArea />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import { MainPage } from \"./mainPage\";\nimport { Subscription } from \"rxjs\";\nimport { isFullscreen$ } from \"../../subjects/subjects\";\n\nexport class MainPageController {\n    private view: MainPage = new MainPage({ controller: this });\n    private subscriptions: Subscription[] = [];\n    public inject(page: MainPage) {\n        this.view = page;\n    }\n\n    public subscribe(): void {\n        this.unsubscribe();\n        this.subscriptions.push(\n            isFullscreen$.subscribe((fullscreen: boolean) => {\n                this.view.setState({ fullscreen });\n            })\n        );\n    }\n\n    public unsubscribe(): void {\n        this.subscriptions.forEach(sub => sub.unsubscribe());\n    }\n}\n","export interface ColorTheme {\n    name: string;\n    bg: string;\n    text: string;\n    toggleBorder: string;\n    gradient: string;\n    bodyArea: string;\n    link: string;\n    mark: string;\n    overlay: string;\n    evictedCell: string;\n    grayCell: string;\n    winnerCell: string;\n    lightGrayCell: string;\n    runnerUpCell: string;\n    nomineeCell: string;\n    hohCell: string;\n    portraitBorder: string;\n    tableCellBorder: string;\n}\n\nexport const lightTheme: ColorTheme = {\n    name: \"light\",\n    bg: \"#fff\",\n    text: \"#363537\",\n    toggleBorder: \"#FFF\",\n    gradient: \"linear-gradient(#39598A, #79D7ED)\",\n    bodyArea: \"#fff\",\n    link: \"blue\",\n    mark: \"yellow\",\n    overlay: \"fff\",\n    evictedCell: \"#fa8072\",\n    grayCell: \"#eaecf0\",\n    lightGrayCell: \"#f8f9fa\",\n    winnerCell: \"#73fb76\",\n    runnerUpCell: \"#d1e8ef\",\n    nomineeCell: \"#959ffd\",\n    hohCell: \"#CCFFCC\",\n    portraitBorder: \"gray\",\n    tableCellBorder: \"#a2a9b1\",\n};\n\nexport const darkTheme: ColorTheme = {\n    name: \"dark\",\n    bg: \"#121212\",\n    text: \"#FAFAFA\",\n    bodyArea: \"#363537\",\n    toggleBorder: \"#6B8096\",\n    gradient: \"linear-gradient(#091236, #1E215D)\",\n    link: \"lightblue\",\n    mark: \"#7e006d\",\n    overlay: \"#444346\",\n    evictedCell: \"#9d4c43\",\n    grayCell: \"#5e5e5e\",\n    lightGrayCell: \"#404040\",\n    runnerUpCell: \"#9fbec882\",\n    nomineeCell: \"#6c75d0\",\n    winnerCell: \"#00ac04\",\n    hohCell: \"#3f783f\",\n    portraitBorder: \"#484848\",\n    tableCellBorder: \"#53575b\",\n};\n","import { createGlobalStyle } from \"styled-components\";\nimport { ColorTheme } from \"./theme\";\n\nexport const GlobalStyles = createGlobalStyle`\n  *,\n  *::after,\n  *::before {\n    box-sizing: border-box;\n  }\n  div {\n    transition: all 0.25s linear;\n  }\n\n  body {\n    background: ${({ theme }: { theme: ColorTheme }) => theme.bg};\n    color: ${({ theme }: { theme: ColorTheme }) => theme.text};\n       transition: all 0.25s linear;\n  }`;\n","import React from \"react\";\nimport { MainPage } from \"./components/mainPage/mainPage\";\nimport { MainPageController } from \"./components/mainPage/mainPageController\";\nimport { ThemeProvider } from \"styled-components\";\nimport { ColorTheme, darkTheme } from \"./theme/theme\";\nimport { GlobalStyles } from \"./theme/globalTheme\";\nimport { theme$ } from \"./subjects/subjects\";\nimport { Subscription } from \"rxjs\";\n\nclass App extends React.Component<{}, { theme: ColorTheme }> {\n  private sub: Subscription | null = null;\n  public constructor(props: any) {\n    super(props);\n    this.state = {\n      theme: darkTheme,\n    };\n  }\n\n  public componentDidMount() {\n    this.sub = theme$.subscribe((theme) => {\n      this.setState({ theme });\n    });\n  }\n\n  public componentWillUnmount() {\n    if (this.sub) this.sub.unsubscribe();\n  }\n\n  render() {\n    return (\n      <ThemeProvider theme={this.state.theme}>\n        <>\n          <GlobalStyles />\n          <MainPage controller={new MainPageController()} />\n        </>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {});\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {});\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {});\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}