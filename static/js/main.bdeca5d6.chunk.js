(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(32).concat([function(e,t,n){e.exports=n(72)},,,,,function(e,t,n){},,,,,,,,,,,,,function(e,t,n){var i={"./Archbishop Geofri.png":51,"./Atziri.png":52,"./Avarius.png":53,"./Baran.png":54,"./Brutus.png":55,"./Doedre.png":56,"./Dominus.png":57,"./Eleron.png":58,"./Hillock.png":59,"./Izaro.png":60,"./Kitava.png":61,"./Kuduku.png":62,"./Lunaris.png":63,"./Malachai.png":64,"./Piety.png":65,"./Rhys.png":66,"./Shavronne.png":67,"./Solaris.png":68,"./The Elder.png":69,"./The Shaper.png":70,"./Veritania.png":71};function r(e){var t=a(e);return n(t)}function a(e){var t=i[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=50},function(e,t,n){e.exports=n.p+"static/media/Archbishop Geofri.6e0351ba.png"},function(e,t,n){e.exports=n.p+"static/media/Atziri.e1aff68e.png"},function(e,t,n){e.exports=n.p+"static/media/Avarius.bb0beb40.png"},function(e,t,n){e.exports=n.p+"static/media/Baran.c2cc7940.png"},function(e,t,n){e.exports=n.p+"static/media/Brutus.b2bc13c6.png"},function(e,t,n){e.exports=n.p+"static/media/Doedre.57e7d4e8.png"},function(e,t,n){e.exports=n.p+"static/media/Dominus.fabc0820.png"},function(e,t,n){e.exports=n.p+"static/media/Eleron.a938a8e5.png"},function(e,t,n){e.exports=n.p+"static/media/Hillock.4f59f957.png"},function(e,t,n){e.exports=n.p+"static/media/Izaro.eb3f6068.png"},function(e,t,n){e.exports=n.p+"static/media/Kitava.cb87a5dd.png"},function(e,t,n){e.exports=n.p+"static/media/Kuduku.8c3ddd80.png"},function(e,t,n){e.exports=n.p+"static/media/Lunaris.85e8ae6c.png"},function(e,t,n){e.exports=n.p+"static/media/Malachai.4b573964.png"},function(e,t,n){e.exports=n.p+"static/media/Piety.a55b7f84.png"},function(e,t,n){e.exports=n.p+"static/media/Rhys.dce28a7e.png"},function(e,t,n){e.exports=n.p+"static/media/Shavronne.bef48886.png"},function(e,t,n){e.exports=n.p+"static/media/Solaris.e8e6af49.png"},function(e,t,n){e.exports=n.p+"static/media/The Elder.ea02a95d.png"},function(e,t,n){e.exports=n.p+"static/media/The Shaper.cda64217.png"},function(e,t,n){e.exports=n.p+"static/media/Veritania.3cbf82c9.png"},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(16),o=n.n(a),s=n(1),c=n(2),u=n(6),l=n(5),h=n(7),d=n(8),p=(n(37),n(12)),f=n(17),v=n.n(f),b=n(24),m=n(10),g=n.n(m);function k(e){return e?Math.round(100*e):0}function y(e,t){for(var n={},i=0;i<e;i++)i!==t&&(n[i]=void 0);return n}var E=n(9),w=n(14),O=n(73),j=n(28),x=n(4);var C=n(15);function S(e){var t=Math.round(e).toString(16);return 1==t.length?"0"+t:t}var T,I,R=function(){function e(t,n,i){Object(s.a)(this,e),this.r=void 0,this.g=void 0,this.b=void 0,this.r=t,this.g=n,this.b=i}return Object(c.a)(e,[{key:"toHex",value:function(){return"#"+S(this.r)+S(this.g)+S(this.b)}},{key:"toRgba",value:function(){return"rgba(".concat(this.r,", ").concat(this.g,", ").concat(this.b,", 1)")}}]),e}();function D(e,t,n){return new R(e.r+n*(t.r-e.r),e.g+n*(t.g-e.g),e.b+n*(t.b-e.b)).toHex()}!function(e){e.Neutral="NEUTRAL",e.Friend="FRIEND",e.Enemy="ENEMY",e.Pawn="PAWN",e.Queen="QUEEN",e.Hunter="HUNTER",e.Target="TARGET",e.Dupe="DUPE",e.Deceiver="DECEIVER"}(T||(T={})),function(e){e.Threat="THREAT",e.Weak="WEAK",e.Neutral="NEUTRAL"}(I||(I={}));var M={NEUTRAL:"-",FRIEND:"\u2665",ENEMY:"\ud83d\udc94",PAWN:"THEY \u2665 ME",QUEEN:"I \u2665 THEM",HUNTER:"THEY \ud83d\udc94 ME",TARGET:"I \ud83d\udc94 THEM",DUPE:"I \ud83d\udc94 THEM THEY \u2665 ME",DECEIVER:"I \u2665 THEM THEY \ud83d\udc94 ME"},N={THREAT:"\ud83d\udca2",WEAK:"\ud83d\udca4",NEUTRAL:"-"},W={NEUTRAL:0,FRIEND:1,ENEMY:-1,PAWN:.66,QUEEN:.33,HUNTER:-.66,TARGET:-.33,DUPE:.25,DECEIVER:-.25},B={true:{true:T.Friend,false:T.Dupe,undefined:T.Pawn},false:{true:T.Deceiver,false:T.Enemy,undefined:T.Hunter},undefined:{true:T.Queen,false:T.Target,undefined:T.Neutral}};function U(e){return!0===e?"true":!1===e?"false":"undefined"}function H(e,t,n,i){if("number"!==typeof n&&"number"!==typeof i)return B[U(n)][U(i)];var r=n>e,a=n>t;return r&&a?T.Friend:r&&!a?T.Pawn:!r&&a?T.Queen:T.Enemy}function A(e){return void 0===e?"":"".concat(e.name).concat(e.color)}var L={name:"",color:"",size:0};function P(e){return Object.keys(e).length}function F(e,t){if(!(t<1)){var n=P(e.likedBy),i=P(e.dislikedBy),r=0;return r=(n-i)/t,0===n&&0===i&&(r=void 0),r}}function z(e,t){if(!(t<1)){var n=P(e.thinksImThreat),i=P(e.thinksImWeak),r=0;return r=function(e,t,n){if(0===n)return 0;var i=2*n;return.5+e/i-t/i}(n,i,t),0===n&&0===i&&(r=void 0),r}}var K=function(){function e(t){var n=this;if(Object(s.a)(this,e),this.houseguests=[],this.cache={},this.tribeIDs=new Set,this.nonEvictedIDs=[],this.houseguests=t,t.length>4096)throw new Error("The max number of players is 4096.");t.forEach(function(e){n.cache[e.name.toUpperCase()]=e,!e.isEvicted&&n.nonEvictedIDs.push(e.id)})}return Object(c.a)(e,[{key:"nonEvictedHouseguests",get:function(){return this.nonEvictedIDs.length}}]),Object(c.a)(e,[{key:"getById",value:function(e){if(void 0===this.houseguests[e])throw Error("invalid id");return this.houseguests[e]}},{key:"reset",value:function(){var e=this;this.dropYourBuffs(),this.houseguests.forEach(function(t){e.evict(t.name),e.unevict(t.name)})}},{key:"get",value:function(e){return this.cache[e.toUpperCase()]}},{key:"getRelationship",value:function(e,t,n){return this.get(e)[n][this.get(t).id]}},{key:"dropYourBuffs",value:function(){this.tribeIDs=new Set,this.houseguests.forEach(function(e){e.tribe=void 0})}},{key:"updatePopularities",value:function(e,t){e.popularity=F(e,t),e.powerRanking=z(e,t)}},{key:"evict",value:function(e){var t=this,n=this.get(e),i=A(n.tribe),r=!0,a=this.nonEvictedIDs.indexOf(n.id);n.isEvicted||(n.isEvicted=!0,this.nonEvictedIDs.forEach(function(n){t.neutral(e,t.houseguests[n].name),t.neutral(t.houseguests[n].name,e),t.utr(e,t.houseguests[n].name),t.utr(t.houseguests[n].name,e);var a=t.houseguests[n].tribe;r&&a&&A(a)===i&&(a.size--,r=!1)}),this.nonEvictedIDs.splice(a,1))}},{key:"unevict",value:function(e){var t=this.get(e);t.isEvicted&&(t.isEvicted=!1,this.nonEvictedIDs.push(t.id))}},{key:"addToLikeMap",value:function(e,t){e[t.id]={tribeId:A(t.tribe),groups:new Set}}},{key:"deleteFromLikeMap",value:function(e,t){delete e[t.id]}},{key:"setRelationship",value:function(e,t,n,i,r,a){var o=this.getRelationship(e,t,a),s=this.get(e),c=this.get(t);o===n||(s.isEvicted||s.disabled||c.disabled||c.isEvicted)&&void 0!==n||(void 0===o?this.addToLikeMap(c[n?i:r],s):void 0===n?this.deleteFromLikeMap(c[o?i:r],s):(this.addToLikeMap(c[n?i:r],s),this.deleteFromLikeMap(c[n?r:i],s)),s[a][c.id]=n,this.updatePopularities(c,this.nonEvictedHouseguests-1))}},{key:"tribe",value:function(e,t){var n=this,i={size:t.filter(function(e){return!n.get(e).isEvicted}).length,name:e.name,color:e.color};if(i.name.includes("#")||i.name.includes("="))throw new Error("Tribe names cannot contain # or =");if(this.tribeIDs.has(A(i)))throw new Error("Tribe ".concat(A(i)," declared twice"));this.tribeIDs.add(A(i)),t.forEach(function(e){n.get(e).tribe=i})}},{key:"like",value:function(e,t){this.setRelationship(e,t,!0,"likedBy","dislikedBy","relationships")}},{key:"dislike",value:function(e,t){this.setRelationship(e,t,!1,"likedBy","dislikedBy","relationships")}},{key:"neutral",value:function(e,t){this.setRelationship(e,t,void 0,"likedBy","dislikedBy","relationships")}},{key:"friends",value:function(e,t){this.like(e,t),this.like(t,e)}},{key:"threat",value:function(e,t){this.setRelationship(e,t,!0,"thinksImThreat","thinksImWeak","powerRankings")}},{key:"weak",value:function(e,t){this.setRelationship(e,t,!1,"thinksImThreat","thinksImWeak","powerRankings")}},{key:"utr",value:function(e,t){this.setRelationship(e,t,void 0,"thinksImThreat","thinksImWeak","powerRankings")}},{key:"alliance",value:function(e){for(var t=0;t<e.length;t++)for(var n=t+1;n<e.length;n++)this.friends(e[t],e[n])}},{key:"enemies",value:function(e,t){this.dislike(e,t),this.dislike(t,e)}}]),e}(),V=new R(51,255,249),Y=function(){function e(t){var n=this;Object(s.a)(this,e),this.subs=[],this.view=void 0,this.refreshTribeFilter=function(e){if(e.name){var t=nt();n.updateLikeCounts(e),A(e)!==A(n.view.props.tribe)&&null!==t&&t.id===n.view.props.id&&tt.next(null)}else n.refreshData(nt())},this.refreshData=function(e){n.view.state.disabled||(e?e.id!==n.view.props.id?n.view.setState({popularity:Q(n.view.props.relationships[e.id],e.relationships[n.view.props.id]),powerRanking:G(n.view.props.powerRankings[e.id],e.powerRankings[n.view.props.id])}):n.view.setState({popularity:2,powerRanking:2}):n.goToDefaultState())},this.view=t}return Object(c.a)(e,[{key:"backgroundColor",value:function(e,t){var n=nt();if(!t.disabled)return null!==n&&n.id===e.id?V.toHex():e.isEvicted||t.disabled?void 0:this.view.state.displayMode.backgroundColor(this.view.state)}},{key:"subscribe",value:function(){var e=this,t=[];t.push(tt.subscribe({next:this.refreshData})),t.push(Ze.subscribe({next:this.refreshTribeFilter})),t.push(it.subscribe({next:function(t){return e.view.setState({displayMode:t})}})),this.subs=t}},{key:"unsubscribe",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"updateLikeCounts",value:function(e){var t=this.view.props,n=A(e)!==A(t.tribe),i={disabled:n},r=_(A(t.tribe));if(i.likedBy=g.a.filter(t.likedBy,r),i.dislikedBy=g.a.filter(t.dislikedBy,r),i.thinksImThreat=g.a.filter(t.thinksImThreat,r),i.thinksImWeak=g.a.filter(t.thinksImWeak,r),!nt()&&!n){var a=t.tribe?t.tribe.size:0;i.popularity=F(Object(p.a)({},i),a),i.powerRanking=z(Object(p.a)({},i),a)}this.view.setState(i)}},{key:"goToDefaultState",value:function(){this.view.state.disabled||(A(Ze.value)?this.updateLikeCounts(Ze.value):this.view.setState(this.defaultState))}},{key:"defaultState",get:function(){return{popularity:this.view.props.popularity,displayMode:it.value,powerRanking:this.view.props.powerRanking,disabled:!!this.view.props.disabled,likedBy:this.view.props.likedBy,dislikedBy:this.view.props.dislikedBy,thinksImThreat:this.view.props.thinksImThreat,thinksImWeak:this.view.props.thinksImWeak}}}]),e}();function G(e,t){return"number"===typeof e?e:"number"===typeof t?t:!0===e?1:!1===e?0:void 0}function Q(e,t){if(!Object(C.isNullOrUndefined)(e)||!Object(C.isNullOrUndefined)(t)){if("number"===typeof e)return e;if("number"===typeof t)return t;var n=H(0,0,e,t);return W[n]}}var _=function(e){return function(t){return e===t.tribeId}},J=n(3);function X(){var e=Object(x.a)(["\n  filter: sepia(100%);\n"]);return X=function(){return e},e}function q(){var e=Object(x.a)(["\n  filter: grayscale(100%);\n"]);return q=function(){return e},e}function Z(){var e=Object(x.a)(["\n  min-width: 100px;\n  width: 100%;\n  width: -moz-available; /* For Mozzila */\n  width: -webkit-fill-available; /* For Chrome */\n  width: stretch; /* Unprefixed */\n"]);return Z=function(){return e},e}function $(){var e=Object(x.a)(["\n  font-weight: 100;\n  color: #c3ae88;\n  background-color: #5d5340;\n  filter: brightness(0.6);\n"]);return $=function(){return e},e}function ee(){var e=Object(x.a)(["\n  font-weight: 100;\n  color: grey;\n  background-color: #111111;\n"]);return ee=function(){return e},e}function te(){var e=Object(x.a)(["\n  margin: 5px;\n  border: 1px solid\n    ",";\n  color: black;\n  border-radius: 5px;\n  text-align: center;\n  font-weight: 600;\n  max-width: 7rem;\n  word-wrap: break-word;\n  -webkit-transition-property: none;\n  -moz-transition-property: none;\n  -o-transition-property: none;\n  transition-property: none;\n"]);return te=function(){return e},e}function ne(){var e=Object(x.a)(["\n  font-weight: 100;\n  font-size: small;\n"]);return ne=function(){return e},e}var ie=J.c.small(ne()),re=J.c.div(te(),function(e){return e.theme.portraitBorder}),ae=Object(J.c)(re)(ee()),oe=Object(J.c)(re)($()),se=J.c.img(Z()),ce=Object(J.c)(se)(q()),ue=Object(J.c)(se)(X()),le=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).controller=void 0,n.controller=new Y(Object(d.a)(Object(d.a)(n))),n.state=n.controller.defaultState,n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){Object(C.isNullOrUndefined)(this.props.id)||this.controller.subscribe()}},{key:"componentWillUnmount",value:function(){this.controller.unsubscribe()}},{key:"onClick",value:function(){if(!Object(C.isNullOrUndefined)(this.props.id)&&this.props.relationships&&!this.state.disabled&&!this.props.isEvicted){var e,t={id:this.props.id,relationships:this.props.relationships,isEvicted:!!this.props.isEvicted,popularity:this.props.popularity||0,superiors:this.props.superiors,powerRankings:this.props.powerRankings};!(e=t)||nt()&&nt().id===e.id?tt.next(null):tt.next(e)}}},{key:"render",value:function(){var e,t=this,n=this.props,i=this.state,a=function(e,t){var n=e.isEvicted?ce:se;return n=t.disabled?ue:n}(n,i);e=this.state.displayMode.generateSubtitle(n,i,!!n.detailed);var o=re;return i.disabled?o=oe:n.isEvicted&&(o=ae),r.a.createElement(o,{onClick:function(){return t.onClick()},style:{backgroundColor:this.controller.backgroundColor(n,this.state)}},r.a.createElement(a,{src:n.imageURL,style:{height:100}}),r.a.createElement("br",null),n.name,r.a.createElement("br",null),r.a.createElement(ie,null,e))}}]),t}(r.a.Component);function he(){var e=Object(x.a)(["\n  margin-left: 3px;\n  margin-right: 3px;\n  margin-bottom: 3px;\n  background: ",";\n"]);return he=function(){return e},e}function de(){var e=Object(x.a)(["\n  box-shadow: ",";\n  border-radius: 6px;\n  margin-left: 3px;\n  margin-right: 3px;\n  margin-bottom: 5px;\n  padding-bottom: 10px;\n  padding-top: 1px;\n  background: ",";\n"]);return de=function(){return e},e}var pe=J.c.div(de(),function(e){return"light"===e.theme.name?"0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1)":""},function(e){return e.theme.overlay}),fe=J.c.div(he(),function(e){return e.theme.bodyArea});function ve(e){return r.a.createElement(pe,{className:e.className||"",style:e.style||{}},e.children)}function be(e){return r.a.createElement(fe,{style:e.style,className:"box ".concat(e.className||"")},e.children)}function me(e,t){return r.a.createElement(le,Object.assign({},e,{key:t,detailed:!1}))}var ge=n(27),ke=n.n(ge);function ye(){var e=Object(x.a)(["\n    max-width: 200px;\n    padding: 3px 8px;\n    color: #fff;\n    text-align: center;\n    background-color: #000;\n    border-radius: 4px;\n"]);return ye=function(){return e},e}var Ee=J.c.p(ye()),we=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={visible:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(ke.a,{position:["top","bottom"],isOpen:this.state.visible,content:r.a.createElement(Ee,null,this.props.text)},r.a.createElement("div",{onMouseEnter:function(){return e.setState({visible:!0})},onMouseLeave:function(){return e.setState({visible:!1})}},this.props.children))}}]),t}(r.a.Component),Oe=-1;function je(e){var t=[];return e.houseguests&&0!==e.houseguests.length?(e.houseguests.forEach(function(n){var i;i=e.detailed?function(e,t){return r.a.createElement(le,Object.assign({},e,{key:t,detailed:!0}))}(n,Oe++):me(n,Oe++),n.tooltip&&(i=r.a.createElement(we,{text:n.tooltip},i)),t.push(i)}),r.a.createElement("div",{className:"columns is-gapless is-mobile is-multiline ".concat(e.centered&&"is-centered")},t)):r.a.createElement("div",null)}function xe(){var e=Object(x.a)(["\n      :not(:hover) {\n        ","\n      }\n      :hover {\n        ","\n      }\n    "]);return xe=function(){return e},e}var Ce=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).subs=[],n.getHoverable=function(e){var t="background-color: ; color: ".concat(e,";"),i="background-color: ".concat(e,"; color: ").concat(function(e){var t="#"===e.charAt(0)?e.substring(1,7):e,n=[parseInt(t.substring(0,2),16)/255,parseInt(t.substring(2,4),16)/255,parseInt(t.substring(4,6),16)/255].map(function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*n[0]+.7152*n[1]+.0722*n[2]>.179?"#000000":"#ffffff"}(e),";"),r=n.state.selected;return J.c.b(xe(),r?i:t,i)},n.state={selected:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subs.push(Ze.subscribe(function(t){e.setState({selected:A(t)===A(e.props.tribe)})}))}},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"select",value:function(){var e;A(e=this.props.tribe)===A(Ze.value)?Ze.next(L):Ze.next(e)}},{key:"render",value:function(){var e=this.getHoverable(this.props.tribe.color),t=this.props.tribe.name;return r.a.createElement(ve,{key:t,style:{textAlign:"center"}},"undefined"!==t&&r.a.createElement("p",null,r.a.createElement(e,{onClick:this.select.bind(this)},t)),r.a.createElement(je,{houseguests:this.props.hgs,centered:!0}))}}]),t}(r.a.Component);function Se(e){var t=e.houseguests;if(!t||0===t.length)return r.a.createElement("div",null);var n=g.a.groupBy(t,function(e){return void 0===e.tribe?e.tribe:e.tribe.name}),i=[];return g.a.forEach(n,function(e,t){if(!("undefined"===t&&g.a.size(n)>1)){var a=e[0].tribe?e[0].tribe:L;i.push(r.a.createElement(Ce,Object.assign({key:A(a)},{tribe:a,hgs:e})))}}),r.a.createElement("div",{style:{margin:"auto",maxWidth:-1}},i)}function Te(){var e=Object(x.a)(["\n    color: ",";\n"]);return Te=function(){return e},e}function Ie(){var e=Object(x.a)(["\n    color: ",";\n"]);return Ie=function(){return e},e}var Re=J.c.div(Ie(),function(e){return e.theme.text});J.c.input(Te(),function(e){return e.theme.text});function De(){return[r.a.createElement("br",{key:1}),r.a.createElement("br",{key:2})]}function Me(e,t,n){return Ne(e)?t.push(r.a.createElement("div",{key:n++},"".concat(Ne(e)))):t.push(r.a.createElement("br",{key:n++,style:{lineHeight:1}})),n}function Ne(e){return"".concat(e.hohWins?"\u2654 ".concat(e.hohWins):"").concat(e.povWins&&e.hohWins?"|\ud83d\udec7 ".concat(e.povWins):e.povWins?"\ud83d\udec7 ".concat(e.povWins):"").concat((e.hohWins||e.povWins)&&e.nominations?"|":"").concat(e.nominations?"\u2718 ".concat(e.nominations):"")}function We(e,t){var n=[],i=e.relationships[t.id],r=t.relationships[e.id];return n.push(M[H(e.popularity||0,t.popularity,i,r)]),n}function Be(e){var t=[],n={friends:P(e.thinksImThreat),enemies:P(e.thinksImWeak)},i=n.friends>0?"".concat(n.friends," ").concat(N[I.Threat]):"",r=n.enemies>0?"".concat(n.enemies," ").concat(N[I.Weak]):"";return t.push("".concat(i).concat(i&&r&&" | ").concat(r)),t}function Ue(e){var t=[],n={friends:P(e.likedBy),enemies:P(e.dislikedBy)},i=n.friends>0?"".concat(n.friends," ").concat(M[T.Friend]):"",r=n.enemies>0?"".concat(n.enemies," ").concat(M[T.Enemy]):"";return t.push("".concat(i).concat(i&&r&&" | ").concat(r)),t}var He=new R(252,137,137),Ae=new R(137,252,137),Le={minColor:He,maxColor:Ae,backgroundColor:function(e){var t=e.popularity;if(void 0===t)return"rgb(170, 170, 170)";var n=function(e){if(!e)return 0;var t=e*e;return e>=0?2*e-t:t+2*e}(t);return D(He,Ae,(n+1)/2)},generateSubtitle:function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],t.disabled)return De();var n=0,i=[],a=function(e,t,n,i,a,o){if(e.isEvicted)n.push(r.a.createElement("br",{key:i++,style:{lineHeight:1}}));else{var s=nt();if(s&&s.id!==e.id){var c=a(e,s);n=n.concat(c.map(function(e){return r.a.createElement("div",{key:i++},e)}))}else{var u=o(t);n=n.concat(u.map(function(e){return r.a.createElement("div",{key:i++},e)}))}}return{subtitle:n,key:i}}(e,t,i,n=Me(e,i,n),We,Ue);return i=a.subtitle,n=a.key,i}},Pe=new R(192,181,255),Fe=new R(255,204,94),ze={minColor:Pe,maxColor:Fe,backgroundColor:function(e){var t=e.powerRanking;return void 0===t?"rgb(170, 170, 170)":D(Pe,Fe,t)},generateSubtitle:function(e,t,n){if(t.disabled)return De();var i,a=0,o=[];if(a=function(e,t,n,i,a){var o,s,c=e.popularity;if(c&&(c>1||c<-1)&&(c=t.popularity),c&&!t.isEvicted){"".concat(k(c),"%");var u=(s=c,k((o=t).popularity)!==k(s)?0:o.deltaPopularity?k(o.deltaPopularity):0);if(n&&0!==u){var l=u>0?" | \u2191":" | \u2193";"".concat(l," ").concat(u,"%")}i.push(r.a.createElement("div",{key:a++},""))}return a}(t,e,!!n,o,a),a=Me(e,o,a),e.isEvicted)o.push(r.a.createElement("br",{key:a++,style:{lineHeight:1}}));else{var s=nt();s&&s.id!==e.id?o.push(r.a.createElement("div",{key:a++},"".concat(void 0===(i=e.powerRankings[s.id])?"-":i?"\ud83d\udca2 THREAT":"\ud83d\udca4 WEAK"))):s&&s.id===e.id?(o.push(r.a.createElement("div",{key:a++},"I'M SEEN AS")),o.push(r.a.createElement("div",{key:a++},Be(t)))):o.push(r.a.createElement("div",{key:a++},Be(t)))}return o}};var Ke=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).sub=null,n.state={selected:e.mode===it.value},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=it.subscribe({next:function(t){t!==e.props.mode&&e.setState({selected:!1})}})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"render",value:function(){var e,t,n=this,i=(e=this.props).disabled?{}:{background:"linear-gradient(90deg, ".concat(e.mode.minColor.toRgba()," 0%, ").concat(e.mode.maxColor.toRgba()," 100%)"),cursor:"pointer"};return r.a.createElement("span",{className:"level-item tag is-medium is-light",style:i,onClick:function(){var e;!n.props.disabled&&(e=n.props.mode,it.next(e)),!n.props.disabled&&n.setState({selected:!0})}},(t=this.props.text,this.state.selected?r.a.createElement("b",null,t):r.a.createElement("i",null,t)))}}]),t}(r.a.Component);function Ve(){var e=Object(x.a)(["\n  background: ",";\n"]);return Ve=function(){return e},e}var Ye=Object(J.c)(be)(Ve(),function(e){return e.theme.overlay});function Ge(){return r.a.createElement(Ye,{className:"level is-mobile",key:"viewsbar"},r.a.createElement(Ke,{mode:Le,text:"Relationships"}),r.a.createElement(Ke,{mode:ze,text:"Threat Level"}))}var Qe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).subs=[],n.state={cast:$e.value},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subs.push($e.subscribe(function(t){e.setState({cast:t})}))}},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"render",value:function(){return 0===this.state.cast.length?r.a.createElement(Re,null,"Cast is empty."):r.a.createElement(Re,null,r.a.createElement(Ge,null),r.a.createElement(Se,{houseguests:this.state.cast}))}}]),t}(r.a.Component),_e=new O.a(r.a.createElement(Qe,null)),Je=new O.a(null),Xe=new j.a;function qe(e){Xe.next(e)}var Ze=new O.a(L),$e=new O.a([]),et=new O.a([]),tt=new O.a(null);function nt(){return tt.value}var it=new O.a(Le),rt=new O.a(!1),at=new j.a,ot=function(){function e(t){Object(s.a)(this,e),this.rng=void 0,this.rng=w.a.xorshift128plus(t)}return Object(c.a)(e,[{key:"randomFloat",value:function(){var e,t=this.rng.next(),n=Object(E.a)(t,2);return e=n[0],this.rng=n[1],e/2147483647}},{key:"randomInt",value:function(e,t){var n,i=w.a.uniformIntDistribution(e,t,this.rng),r=Object(E.a)(i,2);return n=r[0],this.rng=r[1],n}},{key:"flipCoin",value:function(){var e,t=this.rng.next(),n=Object(E.a)(t,2);return e=n[0],this.rng=n[1],e%2===0}},{key:"seed",value:function(e){this.rng=w.a.xorshift128plus(e)}}]),e}();new O.a(new ot(0)),et.subscribe({next:function(){}});function st(e,t){return e.houseguestCache[t]}function ct(e){return e.houseguests.filter(function(e){return!e.isEvicted})}var ut=function(){function e(t){Object(s.a)(this,e),this.houseguests=[],this.houseguestCache={},this.remainingPlayers=0,this.phase=0,this.previousHOH=void 0,this.log=[];var n=g.a.cloneDeep(t);Object.assign(this,n)}return Object(c.a)(e,[{key:"currentLog",get:function(){return this.log[this.phase]}}]),e}(),lt=function e(){Object(s.a)(this,e),this.nominationsPreVeto=[],this.vetoWinner=void 0,this.winner=void 0,this.runnerUp=void 0,this.nominationsPostVeto=[],this.evicted=-1,this.votes={},this.votesInMajority=-1,this.outOf=-1,this.soleVoter=void 0},ht=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"nextEpisode",value:function(e,t){var n=new ut(e);throw n.phase++,ct(e).length>2&&(n.log[n.phase]=new lt),new Error("You can't call this function.")}}]),e}(),dt={canPlayWith:function(e){return e>1},eliminates:1,arrowsEnabled:!0,hasViewsbar:!0};var pt={canPlayWith:function(e){return 3===e},eliminates:2,arrowsEnabled:!0,hasViewsbar:!0};function ft(){var e=Object(x.a)(["\n  text-align: center;\n  color: ",";\n"]);return ft=function(){return e},e}function vt(){var e=Object(x.a)(["\n  text-align: center;\n  color: ",";\n"]);return vt=function(){return e},e}J.c.div(vt(),function(e){return e.theme.text}),J.c.p(ft(),function(e){return e.theme.text});function bt(){var e=Object(x.a)(["\n    position: -webkit-sticky;\n    position: sticky;\n    top: 20px;\n    right: 20px;\n"]);return bt=function(){return e},e}J.c.img(bt());function mt(){var e=Object(x.a)(["\n  height: 0.4em;\n  background-color: #000000;\n"]);return mt=function(){return e},e}function gt(){var e=Object(x.a)(["\n  background-color: ",";\n"]);return gt=function(){return e},e}function kt(){var e=Object(x.a)(["\n  background-color: ",";\n"]);return kt=function(){return e},e}function yt(){var e=Object(x.a)(["\n  background-color: ",";\n"]);return yt=function(){return e},e}function Et(){var e=Object(x.a)(["\n  background-color: ",";\n"]);return Et=function(){return e},e}function wt(){var e=Object(x.a)(["\n  background-color: ",";\n"]);return wt=function(){return e},e}function Ot(){var e=Object(x.a)(["\n  background-color: ",";\n"]);return Ot=function(){return e},e}function jt(){var e=Object(x.a)(["\n  background-color: ",";\n"]);return jt=function(){return e},e}function xt(){var e=Object(x.a)(["\n  border: 1px solid\n    ",";\n  border-collapse: collapse;\n"]);return xt=function(){return e},e}function Ct(){var e=Object(x.a)(["\n  padding: 0.1em 0.4em;\n  border: 1px solid\n    ",";\n"]);return Ct=function(){return e},e}var St=J.c.td(Ct(),function(e){return e.theme.tableCellBorder});J.c.table(xt(),function(e){return e.theme.tableCellBorder}),Object(J.c)(St)(jt(),function(e){return e.theme.grayCell}),Object(J.c)(St)(Ot(),function(e){return e.theme.lightGrayCell}),Object(J.c)(St)(wt(),function(e){return e.theme.evictedCell}),Object(J.c)(St)(Et(),function(e){return e.theme.winnerCell}),Object(J.c)(St)(yt(),function(e){return e.theme.runnerUpCell}),Object(J.c)(St)(kt(),function(e){return e.theme.nomineeCell}),Object(J.c)(St)(gt(),function(e){return e.theme.hohCell}),J.c.tr(mt());var Tt={canPlayWith:function(e){return 1===e},eliminates:1,arrowsEnabled:!1,hasViewsbar:!1};var It=function(){function e(){Object(s.a)(this,e),this.factory=void 0,this.factory=new ht}return Object(c.a)(e,[{key:"renderEpisode",value:function(e,t){return this.factory.nextEpisode(e,t)}},{key:"whichEpisodeType",value:function(e){return 3===e?pt:2===e?Tt:dt}}]),e}(),Rt=function(){function e(t){var n=this;Object(s.a)(this,e),this.view=void 0,this.subscriptions=[],this.season=new It,this.scenes=[],this.selectedEpisode=0,this.switchSceneRelative=function(e){var t=n.view.state.selectedScene,i=n.scenes.length,r=t+e;if(!(r<0)){var a,o=n.view.state.episodes[n.view.state.episodes.length-1];if(r<i)n.switchToScene(r);else if(r===i){var s=o.gameState,c=ct(o.gameState).length,u=n.season.whichEpisodeType(c);c>0&&(a=n.season.renderEpisode(s,u),Je.next(a),n.switchSceneRelative(1))}}},this.view=t,this.subscriptions.push(Je.subscribe({next:function(e){return n.onNewEpisode(e)}})),this.subscriptions.push(Xe.subscribe({next:function(e){n.switchSceneRelative(e)}}))}return Object(c.a)(e,[{key:"getSelectedEpisode",value:function(){return this.selectedEpisode}},{key:"switchToScene",value:function(){var e=Object(b.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _e.next(this.scenes[t].scene.render),this.selectedEpisode=this.scenes[t].index,e.next=4,this.view.setState({selectedScene:t});case 4:null!==nt()&&tt.next(st(this.scenes[this.view.state.selectedScene].scene.gameState,nt().id));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_handleKeyDown",value:function(e){var t=this.view.state;void 0!==t.episodes[this.selectedEpisode]&&t.episodes[this.selectedEpisode].type.arrowsEnabled&&(37===e.keyCode?qe(-1):39===e.keyCode&&qe(1))}},{key:"onNewEpisode",value:function(e){var t=this;if(e){var n=Object(p.a)({},this.view.state),i=(0===this.scenes.length?-1:this.scenes[this.scenes.length-1].index)+1;this.scenes.push({scene:e,index:i}),e.scenes.forEach(function(e){return t.scenes.push({scene:e,index:i})}),n.episodes.push(e),this.view.setState(n)}else this.view.setState({episodes:[],selectedScene:0}),this.scenes=[]}},{key:"destroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"handleKeyDown",get:function(){return this._handleKeyDown.bind(this)}}]),e}(),Dt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).controller=void 0,n.controller=new Rt(Object(d.a)(Object(d.a)(n))),n.state={episodes:[],selectedScene:0},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.controller.handleKeyDown)}},{key:"componentWillUnmount",value:function(){this.controller.destroy()}},{key:"render",value:function(){return r.a.createElement(be,{style:{minWidth:180,display:"none"}},r.a.createElement(Re,null,this.getEpisodes()))}},{key:"getHighlight",value:function(e,t){return t===this.state.selectedScene?r.a.createElement("mark",null,e):e}},{key:"getEpisodes",value:function(){var e=this,t=[],n=-1,i=0;return this.state.episodes.forEach(function(a){var o=++n;t.push(r.a.createElement("b",{key:o,onClick:function(){e.controller.switchToScene(o)}},e.getHighlight(a.title,o))),t.push(r.a.createElement("br",{key:--i})),a.scenes.forEach(function(o){var s=++n;e.controller.getSelectedEpisode()===a.gameState.phase&&(t.push(r.a.createElement("a",{key:s,onClick:function(){return e.controller.switchToScene(s)}},e.getHighlight(o.title,s))),t.push(r.a.createElement("br",{key:--i})))})}),t}}]),t}(r.a.Component),Mt=function(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+-".split(""),t=new Map,n=0;n<e.length;n++)t.set(e[n],n);return{fromInt:function(t){for(var n="";n=e[63&t]+n,0!==(t>>>=6););return n},toInt:function(e){for(var n=0,i=e.split(""),r=0;r<i.length;r++){var a=t.get(i[r]);if(void 0===a)throw new Error("Tried to decode an invalid B64 string");n=(n<<6)+a}return n}}}();function Nt(e,t){var n=new K(g.a.cloneDeep(e.houseguests));n.reset();var i=t.trim();try{if(4!==i.split("|").length)throw new Error("Not a code");var r=i.split("|"),a=Object(E.a)(r,4),o=a[0],s=a[1],c=a[2],u=a[3];if(c.length%2>0||s.length%2>0||u.length%2>0)throw new Error("Misaligned bytes: (".concat(s.length,", ").concat(c.length,", ").concat(u.length));!function(e,t){var n=0;for(;void 0!==t[2*n];)e.evict(At(e,"".concat(t[2*n]).concat(t[2*n+1]),"evictees").name),n++}(n,s),function(e,t){t.split("=").forEach(function(t){var n=t.indexOf("#");if(-1===n)throw new Error("Invalid tribe, does not have a color");var i=t.slice(0,n),r=t.slice(n+1,n+7),a=t.slice(n+7);if(!Ht.test(r))throw new Error("Invalid color: ".concat(r));for(var o=[],s=0;void 0!==a[2*s];)o.push(At(e,"".concat(a[2*s]).concat(a[2*s+1]),"tribes").name),s++;e.tribe({color:"#".concat(r),name:i},o)})}(n,o),function(e,t){var n="",i="",r=0,a=0,o=[t.relationships,t.powerRankings],s=o[0],c=o[1];e.houseguests.forEach(function(t){t.isEvicted||t.disabled||e.nonEvictedIDs.forEach(function(o){t.id!==o&&(0===n.length&&(n=Wt("".concat(s[r]).concat(s[r+1])),r+=2),e.setRelationship(t.name,e.houseguests[o].name,Ut(n[0]),"likedBy","dislikedBy","relationships"),n=n.slice(1),0===i.length&&(i=Wt("".concat(c[a]).concat(c[a+1])),a+=2),e.setRelationship(t.name,e.houseguests[o].name,Ut(i[0]),"thinksImThreat","thinksImWeak","powerRankings"),i=i.slice(1))})})}(n,{relationships:c,powerRankings:u})}catch(l){return alert(l),null}return n}var Wt=function(e){return Mt.toInt(e).toString(3).padStart(7,"0")},Bt=new Map(Object.entries({0:!1,1:!0,2:void 0}));function Ut(e){var t=Bt.get(e);if(void 0===t&&"2"!==e)throw new Error("".concat(e," is not a ternary value"));return t}var Ht=/([a-f0-9]){6}/;function At(e,t,n){var i=Mt.toInt(t);if(i>=e.houseguests.length)throw new Error("".concat(i," (").concat(t,") exceeds the maximum id: ").concat(e.houseguests.length," in ").concat(n));return e.houseguests[i]}var Lt=function e(t){var n=this;Object(s.a)(this,e),this.view=void 0,this.onSubmit=function(){if(n.view.state.inputCode){var e=Nt(n.view.state.rMapper,n.view.state.inputCode);n.view.setState({inputCode:""}),null!==e&&(n.view.setState({rMapper:e}),$e.next(e.houseguests),tt.next(null),Ze.next(L))}},this.view=t};var Pt=function(e){var t=[];return function(e,t,n,i){e.keys().map(function(r,a){var o=r.replace(".png","").replace("./","");t.push({name:o,imageURL:e(r),id:a,isEvicted:n.has(o.toLowerCase()),disabled:i.has(o.toLowerCase()),relationships:y(e.length-1,a),powerRankings:y(e.length-1,a),likedBy:{},dislikedBy:{},thinksImThreat:{},thinksImWeak:{}})})}(e,t,new Set,new Set),new K(t)}(n(50));var Ft=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).controller=void 0,n.handleChange=function(e){n.setState({inputCode:e.target.value})}.bind(Object(d.a)(Object(d.a)(n))),n.controller=new Lt(Object(d.a)(Object(d.a)(n))),n.state={inputCode:"",rMapper:Pt},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){$e.next(this.state.rMapper.houseguests)}},{key:"render",value:function(){var e=Object(p.a)({},{marginTop:30},this.props.style||{});return r.a.createElement(be,{className:"level is-mobile",style:e},r.a.createElement(Re,{className:"level-item"},"Enter Code:",r.a.createElement("input",{className:"input",value:this.state.inputCode,onChange:this.handleChange}),r.a.createElement("button",{disabled:!this.state.inputCode,className:"button is-light",onClick:this.controller.onSubmit},"Submit")))}}]),t}(r.a.Component);function zt(){var e=Object(x.a)(["\n    overflow-x: auto;\n"]);return zt=function(){return e},e}var Kt=Object(J.c)(be)(zt()),Vt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).contentStream=void 0,n.state={content:null},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contentStream=_e.subscribe(function(t){e.setState({content:t})})}},{key:"componentDidUpdate",value:function(e,t){t.content!==this.state.content&&window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){this.contentStream.unsubscribe()}},{key:"render",value:function(){return r.a.createElement(Kt,null,this.state.content)}}]),t}(r.a.Component),Yt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={fullscreen:!1},e.controller.inject(Object(d.a)(Object(d.a)(n))),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.controller.subscribe()}},{key:"componentWillUnmount",value:function(){this.props.controller.unsubscribe()}},{key:"render",value:function(){var e=this.state.fullscreen,t={display:e?"none":""},n=e?{margin:"auto"}:{margin:"auto",maxWidth:1380,overflow:"hidden"};return r.a.createElement("div",{style:n},r.a.createElement(Dt,null),r.a.createElement(Ft,{style:t}),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column",style:{overflowX:"hidden"}},r.a.createElement(Vt,null))))}}]),t}(r.a.Component),Gt=function(){function e(){Object(s.a)(this,e),this.view=new Yt({controller:this}),this.subscriptions=[]}return Object(c.a)(e,[{key:"inject",value:function(e){this.view=e}},{key:"subscribe",value:function(){var e=this;this.unsubscribe(),this.subscriptions.push(rt.subscribe(function(t){e.view.setState({fullscreen:t})}))}},{key:"unsubscribe",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}(),Qt={name:"dark",bg:"#121212",text:"#FAFAFA",bodyArea:"#363537",toggleBorder:"#6B8096",gradient:"linear-gradient(#091236, #1E215D)",link:"lightblue",mark:"#7e006d",overlay:"#444346",evictedCell:"#9d4c43",grayCell:"#5e5e5e",lightGrayCell:"#404040",runnerUpCell:"#9fbec882",nomineeCell:"#6c75d0",winnerCell:"#00ac04",hohCell:"#3f783f",portraitBorder:"#484848",tableCellBorder:"#53575b"};function _t(){var e=Object(x.a)(["\n  *,\n  *::after,\n  *::before {\n    box-sizing: border-box;\n  }\n  div {\n    transition: all 0.25s linear;\n  }\n\n  body {\n    background: ",";\n    color: ",";\n       transition: all 0.25s linear;\n  }"]);return _t=function(){return e},e}var Jt=Object(J.b)(_t(),function(e){return e.theme.bg},function(e){return e.theme.text}),Xt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).sub=null,n.state={theme:Qt},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=at.subscribe(function(t){e.setState({theme:t})})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"render",value:function(){return r.a.createElement(J.a,{theme:this.state.theme},r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt,null),r.a.createElement(Yt,{controller:new Gt})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Xt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}]),[[32,1,2]]]);
//# sourceMappingURL=main.bdeca5d6.chunk.js.map