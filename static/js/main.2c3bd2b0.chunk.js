(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(51)},38:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(14),o=n.n(i),c=n(1),s=n(3),u=n(7),l=n(6),h=n(8),m=n(10),d=(n(38),n(5)),f=n(16),v=n.n(f),p=n(24),g=n(9),b=function e(t){Object(c.a)(this,e),this.name="",this.imageURL="",t&&Object.assign(this,t)},E=function(){function e(t,n){if(Object(c.a)(this,e),this.beats=void 0,this.outOf=void 0,0===n)throw new Error("Power ranking attempted to divide by zero");this.beats=t,this.outOf=n}return Object(s.a)(e,[{key:"toFloat",get:function(){return this.beats/this.outOf}}]),e}(),y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).isEvicted=!1,n.isJury=!1,n.id=0,n.nominations=0,n.hohWins=0,n.povWins=0,n.popularity=0,n.deltaPopularity=0,n.relationships={},n.powerRanking=new E(0,1),n.superiors=new Set,n.getFriendEnemyCount=function(){return{friends:0,enemies:0}},Object.assign(Object(m.a)(Object(m.a)(n)),e),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"relationshipWith",value:function(e){return this.relationships[e.id]}}]),t}(b),w=n(13),O=n.n(w);function j(e){return e?Math.round(100*e):0}function k(e,t){for(var n={},r=0;r<e;r++)r!==t&&(n[r]=0);return n}var x=n(15),C=n(52),S=n(28),M=n(4);var N=n(17);function W(e){var t=Math.round(e).toString(16);return 1==t.length?"0"+t:t}var A=function(){function e(t,n,r){Object(c.a)(this,e),this.r=void 0,this.g=void 0,this.b=void 0,this.r=t,this.g=n,this.b=r}return Object(s.a)(e,[{key:"toHex",value:function(){return"#"+W(this.r)+W(this.g)+W(this.b)}},{key:"toRgba",value:function(){return"rgba(".concat(this.r,", ").concat(this.g,", ").concat(this.b,", 1)")}}]),e}();function F(e,t,n){return new A(e.r+n*(t.r-e.r),e.g+n*(t.g-e.g),e.b+n*(t.b-e.b)).toHex()}var H=new A(51,255,249),P=function(){function e(t){var n=this;Object(c.a)(this,e),this.subs=[],this.view=void 0,this.refreshData=function(e){e?e.id!==n.view.props.id?n.view.setState({popularity:e.relationships[n.view.props.id],powerRanking:n.comparePowerRankings(e)}):n.view.setState({popularity:2,powerRanking:new E(2,1)}):n.view.setState(n.defaultState)},this.view=t}return Object(s.a)(e,[{key:"backgroundColor",value:function(e){var t=Fe();return null!==t&&t.id===e.id?H.toHex():e.isEvicted?void 0:this.view.state.displayMode.backgroundColor(this.view.state)}},{key:"subscribe",value:function(){var e=this,t=[];t.push(Ae.subscribe({next:this.refreshData})),t.push(He.subscribe({next:function(t){return e.view.setState({displayMode:t})}})),this.subs=t}},{key:"unsubscribe",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"comparePowerRankings",value:function(e){if(!e.superiors)return new E(0,1);var t=void 0===this.view.props.id?-1:this.view.props.id;return e.superiors.has(t)?new E(1,1):new E(0,1)}},{key:"defaultState",get:function(){return{popularity:this.view.props.popularity,displayMode:He.value,powerRanking:this.view.props.powerRanking}}}]),e}(),I=n(2);function L(){var e=Object(M.a)(["\n    filter: sepia(100%);\n"]);return L=function(){return e},e}function R(){var e=Object(M.a)(["\n    filter: grayscale(100%);\n"]);return R=function(){return e},e}function V(){var e=Object(M.a)(["\n    width: 100%;\n    width: -moz-available; /* For Mozzila */\n    width: -webkit-fill-available; /* For Chrome */\n    width: stretch; /* Unprefixed */\n"]);return V=function(){return e},e}function U(){var e=Object(M.a)(["\n    font-weight: 100;\n    color: #c3ae88;\n    background-color: #5d5340;\n    filter: brightness(0.6);\n"]);return U=function(){return e},e}function B(){var e=Object(M.a)(["\n    font-weight: 100;\n    color: grey;\n    background-color: #111111;\n"]);return B=function(){return e},e}function D(){var e=Object(M.a)(["\n    margin: 5px;\n    border: 1px solid ",";\n    color: black;\n    border-radius: 5px;\n    text-align: center;\n    font-weight: 600;\n    max-width: 7rem;\n    word-wrap: break-word;\n"]);return D=function(){return e},e}function T(){var e=Object(M.a)(["\n    font-weight: 100;\n    font-size: small;\n"]);return T=function(){return e},e}var z=I.c.small(T()),Q=I.c.div(D(),function(e){return e.theme.portraitBorder}),G=Object(I.c)(Q)(B()),J=Object(I.c)(Q)(U()),Y=I.c.img(V()),K=Object(I.c)(Y)(R()),q=Object(I.c)(Y)(L()),X=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).controller=void 0,n.controller=new P(Object(m.a)(Object(m.a)(n))),n.state=n.controller.defaultState,n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){Object(N.isNullOrUndefined)(this.props.id)||this.controller.subscribe()}},{key:"componentWillUnmount",value:function(){this.controller.unsubscribe()}},{key:"onClick",value:function(){if(!Object(N.isNullOrUndefined)(this.props.id)&&this.props.relationships){var e,t={id:this.props.id,relationships:this.props.relationships,isEvicted:!!this.props.isEvicted,popularity:this.props.popularity||0,superiors:this.props.superiors};!(e=t)||Fe()&&Fe().id===e.id?Ae.next(null):Ae.next(e)}}},{key:"render",value:function(){var e,t=this,n=this.props,r=function(e){var t=e.isEvicted?K:Y;return t=e.isJury?q:t}(n);e=this.state.displayMode.generateSubtitle(this.props,this.state,!!n.detailed);var i=Q;return n.isJury?i=J:n.isEvicted&&(i=G),a.a.createElement(i,{onClick:function(){return t.onClick()},style:{backgroundColor:this.controller.backgroundColor(n)}},a.a.createElement(r,{src:n.imageURL,style:{height:100,width:"-moz-available"}}),a.a.createElement("br",null),n.name,a.a.createElement("br",null),a.a.createElement(z,null,e))}}]),t}(a.a.Component);function _(e,t){return a.a.createElement(X,Object.assign({},e,{key:t,detailed:!1}))}var Z=n(27),$=n.n(Z);function ee(){var e=Object(M.a)(["\n    max-width: 200px;\n    padding: 3px 8px;\n    color: #fff;\n    text-align: center;\n    background-color: #000;\n    border-radius: 4px;\n"]);return ee=function(){return e},e}var te=I.c.p(ee()),ne=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={visible:!1},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement($.a,{position:["top","bottom"],isOpen:this.state.visible,content:a.a.createElement(te,null,this.props.text)},a.a.createElement("div",{onMouseEnter:function(){return e.setState({visible:!0})},onMouseLeave:function(){return e.setState({visible:!1})}},this.props.children))}}]),t}(a.a.Component),re=-1;function ae(e){return a.a.createElement("div",{key:re++,className:"columns is-gapless is-mobile is-multiline ".concat(e.centered?"is-centered":"")},e.children)}function ie(e){var t=a.a.createElement(ae,{centered:e.centered},_(e.houseguest));return e.houseguest.tooltip?a.a.createElement(ae,{centered:e.centered},a.a.createElement(ne,{text:e.houseguest.tooltip},_(e.houseguest))):t}function oe(e){var t=[];return e.houseguests&&0!==e.houseguests.length?(e.houseguests.forEach(function(n){var r;r=e.detailed?function(e,t){return a.a.createElement(X,Object.assign({},e,{key:t,detailed:!0}))}(n,re++):_(n,re++),n.tooltip&&(r=a.a.createElement(ne,{text:n.tooltip},r)),t.push(r)}),a.a.createElement("div",{className:"columns is-gapless is-mobile is-multiline ".concat(e.centered&&"is-centered")},t)):a.a.createElement("div",null)}function ce(e){return e.houseguests&&0!==e.houseguests.length?a.a.createElement("div",{style:{margin:"auto",maxWidth:e.houseguests.length<26?700:-1}},a.a.createElement(oe,{houseguests:e.houseguests,centered:!0,detailed:!0})):a.a.createElement("div",null)}function se(){return a.a.createElement("button",{className:"button is-primary",onClick:function(){return Ne(1)}},"Continue")}function ue(){var e=Object(M.a)(["\n    color: ",";\n"]);return ue=function(){return e},e}function le(){var e=Object(M.a)(["\n    color: ",";\n"]);return le=function(){return e},e}var he,me=I.c.div(le(),function(e){return e.theme.text});I.c.input(ue(),function(e){return e.theme.text});function de(e){return 0===e.cast.length?a.a.createElement(me,null,"Cast is empty."):a.a.createElement(me,null,"Welcome to Big Brother!",a.a.createElement(ce,{houseguests:e.cast}),a.a.createElement(se,null))}!function(e){e.Friend="FRIEND",e.Queen="QUEEN",e.Pawn="PAWN",e.Enemy="ENEMY"}(he||(he={}));var fe={FRIEND:"\u2665",ENEMY:"\ud83d\udc94",PAWN:"PAWN",QUEEN:"QUEEN"};function ve(e,t,n){var r=n>e,a=n>t;return r&&a?he.Friend:r&&!a?he.Pawn:!r&&a?he.Queen:he.Enemy}function pe(e,t,n,r,i){var o=e.popularity;if(o&&(o>1||o<-1)&&(o=t.popularity),o&&!t.isEvicted){var c="".concat(j(o),"%"),s=function(e,t){if(j(e.popularity)!==j(t))return 0;return e.deltaPopularity?j(e.deltaPopularity):0}(t,o);if(n&&0!==s)c+="".concat(s>0?" | \u2191":" | \u2193"," ").concat(s,"%");r.push(a.a.createElement("div",{key:i++},c))}return i}function ge(e,t,n){return be(e)?t.push(a.a.createElement("div",{key:n++},"".concat(be(e)))):t.push(a.a.createElement("br",{key:n++,style:{lineHeight:1}})),n}function be(e){return"".concat(e.hohWins?"\u2654 ".concat(e.hohWins):"").concat(e.povWins&&e.hohWins?"|\ud83d\udec7 ".concat(e.povWins):e.povWins?"\ud83d\udec7 ".concat(e.povWins):"").concat((e.hohWins||e.povWins)&&e.nominations?"|":"").concat(e.nominations?"\u2718 ".concat(e.nominations):"")}var Ee=new A(252,137,137),ye=new A(137,252,137),we={minColor:Ee,maxColor:ye,backgroundColor:function(e){var t=function(e){if(!e)return 0;var t=e*e;return e>=0?2*e-t:t+2*e}(e.popularity);return F(Ee,ye,(t+1)/2)},generateSubtitle:function(e,t){var n=0,r=[],i=function(e,t,n){if(e.isEvicted)t.push(a.a.createElement("br",{key:n++,style:{lineHeight:1}}));else{var r=Fe();if(r&&r.id!==e.id){var i=function(e,t){var n=[];return n.push(fe[ve(e.popularity||0,t.popularity,e.relationships[t.id])]),n}(e,r);t=t.concat(i.map(function(e){return a.a.createElement("div",{key:n++},e)}))}else{var o=function(e){var t=[],n=e.getFriendEnemyCount?e.getFriendEnemyCount():{friends:0,enemies:0};return t.push("".concat(n.friends," ").concat(fe[he.Friend]," | ").concat(n.enemies," ").concat(fe[he.Enemy])),t}(e);t=t.concat(o.map(function(e){return a.a.createElement("div",{key:n++},e)}))}}return{subtitle:t,key:n}}(e,r,n=ge(e,r,n=pe(t,e,arguments.length>2&&void 0!==arguments[2]&&arguments[2],r,n)));return r=i.subtitle,n=i.key,r}},Oe=new A(255,204,94),je=new A(192,181,255),ke={minColor:je,maxColor:Oe,backgroundColor:function(e){var t=e.powerRanking;return void 0===t?"":F(je,Oe,t.toFloat)},generateSubtitle:function(e,t,n){var r=0,i=[];if(r=ge(e,i,r=pe(t,e,!!n,i,r)),!e.isEvicted&&t.powerRanking){var o=Fe();o&&o.id!==e.id?i.push(a.a.createElement("div",{key:r++},"".concat(t.powerRanking.beats>0?"LOSE":"WIN"))):o&&o.id===e.id?i.push(a.a.createElement("div",{key:r++},"I WOULD")):i.push(a.a.createElement("div",{key:r++},"WINS ".concat(t.powerRanking.beats,"/").concat(t.powerRanking.outOf)))}else i.push(a.a.createElement("br",{key:r++,style:{lineHeight:1}}));return i}},xe=new C.a(a.a.createElement(de,{cast:[]})),Ce=new C.a(null),Se=new S.a;function Me(e){Ce.next(e)}function Ne(e){Se.next(e)}var We=new C.a([]);var Ae=new C.a(null);function Fe(){return Ae.value}var He=new C.a(we),Pe=new C.a(!1),Ie=new S.a,Le=function(){function e(t){Object(c.a)(this,e),this.rng=void 0,this.rng=x.a.xorshift128plus(t)}return Object(s.a)(e,[{key:"randomFloat",value:function(){var e,t=this.rng.next(),n=Object(g.a)(t,2);return e=n[0],this.rng=n[1],e/2147483647}},{key:"randomInt",value:function(e,t){var n,r=x.a.uniformIntDistribution(e,t,this.rng),a=Object(g.a)(r,2);return n=a[0],this.rng=a[1],n}},{key:"flipCoin",value:function(){var e,t=this.rng.next(),n=Object(g.a)(t,2);return e=n[0],this.rng=n[1],e%2===0}},{key:"seed",value:function(e){this.rng=x.a.xorshift128plus(e)}}]),e}();function Re(){return Ve.value}var Ve=new C.a(new Le(0));We.subscribe({next:function(e){var t="";e.forEach(function(e){return t+=e.name}),Ve.next(new Le(function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(t)))}});function Ue(e,t){return e.houseguestCache[t]}function Be(e,t){var n=t.map(function(e){return e.id});return e.filter(function(e){return!n.includes(e.id)&&!e.isEvicted})}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.length)throw new Error("Tried to get a random player from a list of 0 players.");var n=Be(e,t);return n[Re().randomInt(0,n.length-1)]}function Te(e){return e.houseguests.filter(function(e){return!e.isEvicted})}function ze(e){return e.houseguests.filter(function(e){return e.isJury})}function Qe(e){return e.remainingPlayers-2<=hn()}var Ge=function(){function e(t){var n=this;if(Object(c.a)(this,e),this.houseguestCache={},this.houseguests=[],this.remainingPlayers=0,this.phase=0,this.previousHOH=void 0,this.log=[],t instanceof Array){var r=t;this.remainingPlayers=r.length,r.forEach(function(e,t){var a=new y(Object(d.a)({},e,{id:t,relationships:k(r.length,t)}));n.houseguestCache[t]=a,n.houseguests.push(a)})}else Object.assign(this,t)}return Object(s.a)(e,[{key:"currentLog",get:function(){return this.log[this.phase]}}]),e}(),Je=function(){function e(t){Object(c.a)(this,e),this.houseguests=[],this.houseguestCache={},this.remainingPlayers=0,this.phase=0,this.previousHOH=void 0,this.log=[];var n=O.a.cloneDeep(t);Object.assign(this,n)}return Object(s.a)(e,[{key:"currentLog",get:function(){return this.log[this.phase]}}]),e}();var Ye=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).sub=null,n.state={selected:e.mode===He.value},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=He.subscribe({next:function(t){t!==e.props.mode&&e.setState({selected:!1})}})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"render",value:function(){var e,t,n=this,r=(e=this.props).disabled?{}:{background:"linear-gradient(90deg, ".concat(e.mode.minColor.toRgba()," 0%, ").concat(e.mode.maxColor.toRgba()," 100%)"),cursor:"pointer"};return a.a.createElement("span",{className:"level-item tag is-medium is-light",style:r,onClick:function(){var e;!n.props.disabled&&(e=n.props.mode,He.next(e)),!n.props.disabled&&n.setState({selected:!0})}},(t=this.props.text,this.state.selected?a.a.createElement("b",null,t):a.a.createElement("i",null,t)))}}]),t}(a.a.Component);function Ke(){var e=Object(M.a)(["\n    margin-left: 3px;\n    margin-right: 3px;\n    margin-bottom: 3px;\n    background: ",";\n"]);return Ke=function(){return e},e}function qe(){var e=Object(M.a)(["\n    box-shadow: ",";\n    border-radius: 6px;\n    margin-left: 3px;\n    margin-right: 3px;\n    background: ",";\n"]);return qe=function(){return e},e}var Xe=I.c.div(qe(),function(e){return"light"===e.theme.name?"0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1)":""},function(e){return e.theme.overlay}),_e=I.c.div(Ke(),function(e){return e.theme.bodyArea});function Ze(e){return a.a.createElement(Xe,{className:e.className||""},e.children)}function $e(e){return a.a.createElement(_e,{style:e.style,className:"box ".concat(e.className||"")},e.children)}function et(){var e=Object(M.a)(["\n    background: ",";\n"]);return et=function(){return e},e}var tt=Object(I.c)($e)(et(),function(e){return e.theme.overlay});function nt(){return a.a.createElement(tt,{className:"level is-mobile",key:"viewsbar"},a.a.createElement(Ye,{mode:we,text:"Relationships"}),a.a.createElement(Ye,{mode:ke,text:"Power Rankings"}),a.a.createElement(Ye,{mode:ke,disabled:!0,text:"Cliques [Coming Soon\u2122]"}))}var rt=function(){function e(t){Object(c.a)(this,e),this.scenes=void 0,this.title=void 0,this.content=void 0,this.gameState=void 0,this.type=void 0,this.arrowsEnabled=!0,this.scenes=t.scenes,this.title=t.title,this.content=t.content,this.gameState=t.gameState,this.type=t.type}return Object(s.a)(e,[{key:"render",get:function(){var e=this.type.hasViewsbar?a.a.createElement(nt,null):null;return a.a.createElement("div",null,e,this.content)}}]),e}(),at=function e(t){Object(c.a)(this,e),this.title="",this.gameState=new Ge([]),this.content=a.a.createElement("div",null,"Error while rendering ".concat(this.title)),this.render=void 0,Object.assign(this,t),this.render=a.a.createElement("div",null,a.a.createElement(nt,null),this.content)};function it(){var e=Object(M.a)(["\n    text-align: center;\n    color: ",";\n"]);return it=function(){return e},e}function ot(){var e=Object(M.a)(["\n    text-align: center;\n    color: ",";\n"]);return ot=function(){return e},e}var ct=I.c.div(ot(),function(e){return e.theme.text}),st=I.c.p(it(),function(e){return e.theme.text});function ut(e){return e.noMargin?a.a.createElement(ct,null,e.children):a.a.createElement(st,null,e.children," ")}function lt(e){return a.a.createElement(ut,{noMargin:e.noMargin},a.a.createElement("b",null,e.children," "))}function ht(e){return a.a.createElement(ut,{noMargin:e.noMargin},a.a.createElement("i",null,e.children," "))}var mt=function(e,t){return e.relationships[t.id]};function dt(e,t){return function(e,t,n){var r=0,a=-1/0;return t.forEach(function(t,i){var o=n(e,t);o>a&&(r=i,a=o)}),r}(e,t,mt)}function ft(e,t,n){var r=0,a=1/0;return t.forEach(function(t,i){var o=n(e,t);o<a&&(r=i,a=o)}),r}function vt(e,t){var n=e.hero,r=e.villain,a=0,i=0;return t.forEach(function(e){e.id!==n.id&&e.id!==r.id&&(mt(n,e)>mt(r,e)?a++:i++)}),a>i}function pt(e,t){var n=t.remainingPlayers;return e.superiors.size/n>=.25}function gt(e,t,n){return Qe(n)?function(e,t,n){var r=t[0],a=t[1],i=!e.superiors.has(r.id),o=!e.superiors.has(a.id);if(i===o)return bt(e,t);if(n.remainingPlayers-e.superiors.size-1===1&&(i||o)){var c=i?0:1;return{decision:i?1:0,reason:"I can't evict ".concat(t[c].name,", because they are the last person I can beat.")}}var s=pt(e,n)===o?0:1,u=s?0:1,l=pt(e,n)?"I can't beat ".concat(t[s].name," in the end."):"I need to keep ".concat(t[u].name," around as a shield."),h=ve(e.popularity,t[s].popularity,e.relationships[t[s].id])===he.Friend,m=ve(e.popularity,t[u].popularity,e.relationships[t[u].id])!==he.Friend,d=!m,f=!h;return h&&m?{decision:u,reason:"".concat(t[u].name," is my enemy.")}:h&&d?{decision:s,reason:"Both noms are my friends, but ".concat(l)}:f&&m?{decision:s,reason:"Neither of the noms are my friends, but ".concat(l)}:{decision:s,reason:"".concat(l)}}(e,t,n):bt(e,t)}function bt(e,t){var n=t[0],r=t[1],a=ve(e.popularity,n.popularity,e.relationships[n.id]),i=ve(e.popularity,r.popularity,e.relationships[r.id]);if(a===he.Enemy&&i===he.Enemy)return{decision:n.popularity>r.popularity?0:1,reason:"Both noms are my enemies, so I voted for the more popular one."};if(a===he.Enemy&&i!==he.Enemy||i===he.Enemy&&a!==he.Enemy){var o=a===he.Enemy?0:1;return{decision:o,reason:"".concat(t[o].name," is my enemy.")}}if(a!==he.Friend&&i===he.Friend||i!==he.Friend&&a===he.Friend){var c=a!==he.Friend?0:1;return{decision:c,reason:"".concat(t[0===c?1:0].name," is my friend.")}}var s=ft(e,t,mt);return{decision:s,reason:"Both noms are my friends. but I like ".concat(t[0===s?1:0].name," more.")}}function Et(e,t,n,r){var a=[],i=function(e,t,n){var r=t;return Qe(n)&&pt(e,n)&&(r=2*e.superiors.size<n.remainingPlayers-1?t.filter(function(t){return!e.superiors.has(t.id)}):t.filter(function(t){return e.superiors.has(t.id)})),new Set(r.map(function(e){return e.id}))}(e,t,n),o=t.filter(function(e){return i.has(e.id)});for(0===o.length&&(o=t);a.length<r;){var c=o[ft(e,o,mt)];a.push({decision:c.id,reason:"I think you are ugly"}),0===(o=Be(o,[c])).length&&(o=t.filter(function(e){return!i.has(e.id)}))}return a}function yt(e,t){var n=-1,r="Neither of these nominees are my friends.",a=ve(e.popularity,t[0].popularity,e.relationshipWith(t[0])),i=ve(e.popularity,t[1].popularity,e.relationshipWith(t[1]));return a===he.Friend&&i!==he.Friend?(n=0,r="".concat(t[0].name," is my friend.")):i===he.Friend&&a!==he.Friend?(n=1,r="".concat(t[1].name," is my friend.")):a===he.Friend&&i===he.Friend&&(n=Math.max(t[0].popularity,t[1].popularity)===t[0].popularity?0:1,r="Both nominees are my friends, but I like ".concat(t[n].name," more.")),{decision:t[n],reason:r}}function wt(){var e=Object(M.a)(["\n    position: -webkit-sticky;\n    position: sticky;\n    top: 20px;\n    right: 20px;\n"]);return wt=function(){return e},e}var Ot=I.c.img(wt());function jt(){return a.a.createElement(Ot,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAASElEQVRIiWNgGAUEACMa/z+R6ohWz0Sqi0gFLIRcQAAQDAGa+2DoWzAKRgH1wX8G3OULWfqHfkYbsNIUPR5IrQ/gYLQsGngAAEPgCRZjAdYSAAAAAElFTkSuQmCC",className:"button is-rounded",onClick:function(){Pe.next(!Pe.getValue())}})}function kt(){var e=Object(M.a)(["\n    height: 0.4em;\n    background-color: #000000;\n"]);return kt=function(){return e},e}function xt(){var e=Object(M.a)(["\n    background-color: ",";\n"]);return xt=function(){return e},e}function Ct(){var e=Object(M.a)(["\n    background-color: ",";\n"]);return Ct=function(){return e},e}function St(){var e=Object(M.a)(["\n    background-color: ",";\n"]);return St=function(){return e},e}function Mt(){var e=Object(M.a)(["\n    background-color: ",";\n"]);return Mt=function(){return e},e}function Nt(){var e=Object(M.a)(["\n    background-color: ",";\n"]);return Nt=function(){return e},e}function Wt(){var e=Object(M.a)(["\n    background-color: ",";\n"]);return Wt=function(){return e},e}function At(){var e=Object(M.a)(["\n    background-color: ",";\n"]);return At=function(){return e},e}function Ft(){var e=Object(M.a)(["\n    border: 1px solid ",";\n    border-collapse: collapse;\n"]);return Ft=function(){return e},e}function Ht(){var e=Object(M.a)(["\n    padding: 0.1em 0.4em;\n    border: 1px solid ",";\n"]);return Ht=function(){return e},e}var Pt=I.c.td(Ht(),function(e){return e.theme.tableCellBorder}),It=I.c.table(Ft(),function(e){return e.theme.tableCellBorder}),Lt=Object(I.c)(Pt)(At(),function(e){return e.theme.grayCell}),Rt=Object(I.c)(Pt)(Wt(),function(e){return e.theme.lightGrayCell}),Vt=Object(I.c)(Pt)(Nt(),function(e){return e.theme.evictedCell}),Ut=Object(I.c)(Pt)(Mt(),function(e){return e.theme.winnerCell}),Bt=Object(I.c)(Pt)(St(),function(e){return e.theme.runnerUpCell}),Dt=Object(I.c)(Pt)(Ct(),function(e){return e.theme.nomineeCell}),Tt=Object(I.c)(Pt)(xt(),function(e){return e.theme.hohCell}),zt=I.c.tr(kt());function Qt(e){var t=e.log,n=[];e.houseguests.forEach(function(e,t){n[e.id]=[a.a.createElement(Lt,{key:"hg-name---".concat(t)},a.a.createElement(lt,{noMargin:!0},e.name))]});var r=[],i=[],o=[],c=[],s=[],u=[],l=[];t.forEach(function(h,m){if(function(e,t,n,r){if(!e)return void n.push(a.a.createElement(Lt,{key:"toprow--".concat(t)}));if(t===r)return void n.push(a.a.createElement(Lt,{key:"toprow--".concat(t),colSpan:2},a.a.createElement(lt,{noMargin:!0},"Finale")));n.push(a.a.createElement(Lt,{key:"toprow--".concat(t)},a.a.createElement(lt,{noMargin:!0},"Week ",t)))}(h,m,i,t.length-1),function(e,t,n){if(!e)return void n.push(a.a.createElement(Lt,{key:"preveto--".concat(t)},a.a.createElement(lt,{noMargin:!0},"Nominations",a.a.createElement("br",null),a.a.createElement("small",null,"(pre-veto)"))));if(0===e.nominationsPreVeto.length)return void n.push(a.a.createElement(Rt,{key:"preveto--".concat(t),rowSpan:2},a.a.createElement(ht,{noMargin:!0},"(none)")));n.push(a.a.createElement(Rt,{key:"preveto--".concat(t)},a.a.createElement(ut,{noMargin:!0},e.nominationsPreVeto[0],a.a.createElement("br",null)," ",e.nominationsPreVeto[1])))}(h,m,o),function(e,t,n){if(!e)return void n.push(a.a.createElement(Lt,{key:"veto--".concat(t)},a.a.createElement(lt,{noMargin:!0},"Veto Winner")));if(void 0===e.vetoWinner)return;n.push(a.a.createElement(Rt,{key:"veto--".concat(t)},a.a.createElement(ut,{noMargin:!0},e.vetoWinner)))}(h,m,c),function(e,t,n){if(!e)return void n.push(a.a.createElement(Lt,{key:"postVeto--".concat(t)},a.a.createElement(lt,{noMargin:!0},"Nominations",a.a.createElement("br",null),a.a.createElement("small",null,"(post-veto)"))));n.push(a.a.createElement(Rt,{key:"postVeto--".concat(t)},a.a.createElement(ut,{noMargin:!0},e.nominationsPostVeto[0],a.a.createElement("br",null)," ",e.nominationsPostVeto[1])))}(h,m,s),function(e,t,n,r){if(!e)return void n.push(a.a.createElement(Lt,{key:t,rowSpan:2},a.a.createElement(lt,{noMargin:!0},"Evicted")));var i=void 0!==e.soleVoter?"".concat(e.soleVoter,"'s choice"):"".concat(e.votesInMajority," of ").concat(e.outOf," votes");n.push(a.a.createElement(Vt,{key:t,rowSpan:2},a.a.createElement(ut,{noMargin:!0},a.a.createElement("b",null,Ue(r,e.evicted).name),a.a.createElement("br",null),a.a.createElement("small",null,i," ",a.a.createElement("br",null),"to evict"))))}(h,m,u,e),h){r.push(h.evicted),void 0!==h.runnerUp&&r.push(h.runnerUp),void 0!==h.winner&&r.push(h.winner);for(var d=Object.entries(h.votes),f=0;f<d.length;f++){var v=d[f],p=Object(g.a)(v,2),b=p[0],E=p[1];n[b].push(E.render(e))}void 0!==h.winner&&void 0!==h.runnerUp&&(n[h.winner].push((new Kt).render(e)),n[h.runnerUp].push((new qt).render(e)),u.push(a.a.createElement(Bt,null,a.a.createElement(lt,{noMargin:!0},Ue(e,h.runnerUp).name),a.a.createElement(ut,{noMargin:!0},a.a.createElement("small",null,"Finalist")," "))),l.push(a.a.createElement(Ut,null,a.a.createElement(lt,{noMargin:!0},Ue(e,h.winner).name),a.a.createElement(ut,{noMargin:!0},a.a.createElement("small",null,"Winner")))))}}),o.push(a.a.createElement(Rt,{key:"preveto--finale",rowSpan:3},a.a.createElement(ht,{noMargin:!0},"(none)")));var h=a.a.createElement("tr",null,l),m=a.a.createElement("tr",null,i),d=a.a.createElement("tr",null,o),f=a.a.createElement("tr",null,c),v=a.a.createElement("tr",null,s),p=a.a.createElement(zt,null,a.a.createElement("td",{colSpan:e.houseguests.length})),b=[],E=a.a.createElement("tr",null,u),y=-1,w=r.length;return r.reverse().forEach(function(t,r){if(y>0){var i=2===r?"(Finale)":"(Week ".concat(w-r,")"),o=Ue(e,t).isJury,c=o?y-1:y,s=a.a.createElement(Vt,{colSpan:c,key:"evicted-week-".concat(w-r)},a.a.createElement(ht,{noMargin:!0},"Evicted"),a.a.createElement(ht,{noMargin:!0},a.a.createElement("small",null,i)));if(o){var u=n[t].slice(0,-1);u.push(s),u.push(n[t][n[t].length-1]),n[t]=u}else n[t].push(s)}b.push(a.a.createElement("tr",{key:"hgrow--".concat(t)},n[t])),y++}),a.a.createElement("div",null,a.a.createElement(jt,null),a.a.createElement(It,null,a.a.createElement("tbody",null,m,d,f,v,p,b,p,E,h)))}var Gt=0;function Jt(){return"".concat(Gt++,"-- vote key")}var Yt=function e(t){var n=this;Object(c.a)(this,e),this.id=void 0,this.render=function(e){return a.a.createElement(Pt,{key:Jt()},a.a.createElement(ut,{noMargin:!0},Ue(e,n.id).name))},this.id=t},Kt=function e(){Object(c.a)(this,e),this.id=1,this.render=function(e){return a.a.createElement(Ut,null,a.a.createElement(ut,{noMargin:!0},"Winner"))}},qt=function e(){Object(c.a)(this,e),this.id=1,this.render=function(e){return a.a.createElement(Bt,null,a.a.createElement(ut,{noMargin:!0},"Finalist"))}},Xt=function e(t){Object(c.a)(this,e),this.id=-1,this.evicted=void 0,this.render=function(e){return a.a.createElement(Dt,{key:Jt()},a.a.createElement(ht,{noMargin:!0},"Nominated"))},this.evicted=t},_t=function(){function e(t){var n=this;Object(c.a)(this,e),this.id=void 0,this.render=function(e){return a.a.createElement(Tt,{key:Jt()},-1==n.id?n.hohText:n.hohVote(e))},this.id=void 0===t?-1:t}return Object(s.a)(e,[{key:"hohVote",value:function(e){return a.a.createElement(ht,{noMargin:!0},Ue(e,this.id).name)}},{key:"hohText",get:function(){return a.a.createElement(ht,{noMargin:!0},"Head of",a.a.createElement("br",null),"Household")}}]),e}();function Zt(e){var t=new Je(e),n=ze(t),r=Te(t),i=[[],[]];n.forEach(function(e){var n=function(e,t){return dt(e,t)}(e,r),a=Object(d.a)({},e);i[n].push(a),t.currentLog.votes[e.id]=new Yt(r[n].id)});var o=i[0].length,c=i[1].length,s=0===o||0===c?"By a unanimous vote...":"By a vote of ".concat(o," to ").concat(c,"..."),u=o>c?r[0]:r[1],l=o<c?r[0]:r[1];t.currentLog.winner=u.id,t.currentLog.runnerUp=l.id;var h=new at({title:"Jury Votes",gameState:t,content:a.a.createElement("div",null,a.a.createElement(lt,null,s),a.a.createElement("div",{className:"columns is-centered"},a.a.createElement(Ze,{className:"column"},a.a.createElement(oe,{houseguests:i[0],centered:!0})),a.a.createElement(Ze,{className:"column"},a.a.createElement(oe,{houseguests:i[1],centered:!0}))),a.a.createElement(oe,{houseguests:r,centered:!0}),a.a.createElement(lt,null,"Congratulations, ".concat(u.name,"... you are the winner of Big Brother!")),a.a.createElement(se,null))});return[t,h]}var $t={canPlayWith:function(e){return 3===e},eliminates:2,arrowsEnabled:!0,hasViewsbar:!0};function en(e){var t,n,r,i,o=a.a.createElement(me,null,"Finale Night",a.a.createElement(ce,{houseguests:e.houseguests})," ",a.a.createElement("br",null),a.a.createElement(se,null)),c=[],s=function(e){var t=new Je(e),n=Te(e),r=De(n),i=n.filter(function(e){return e.id!==r.id}),o=De(n,[r]),c=Ue(t,De([r,o]).id);c.hohWins++;var s=new at({title:"Final HoH Competition",gameState:t,content:a.a.createElement("div",null,a.a.createElement(ut,null,"The final 3 houseguests compete in the endurance competition."),a.a.createElement(oe,{houseguests:n,centered:!0}),a.a.createElement(ie,{houseguest:r,centered:!0}),a.a.createElement(lt,null,"".concat(r.name," has won the endurance competition!")),a.a.createElement("hr",null),a.a.createElement(ut,null,"".concat(i[0].name," and ").concat(i[1].name," compete in the skill competition.")),a.a.createElement(oe,{houseguests:i,centered:!0}),a.a.createElement(ie,{houseguest:o,centered:!0}),a.a.createElement(lt,null,"".concat(o.name," has won the skill competition!")),a.a.createElement("hr",null),a.a.createElement(ut,null,"".concat(r.name," and ").concat(o.name," compete in the quiz competition.")),a.a.createElement(oe,{houseguests:[r,o],centered:!0}),a.a.createElement(ie,{houseguest:c,centered:!0}),a.a.createElement(lt,null,"Congratulations ".concat(c.name,", you are the final Head of Household!")),a.a.createElement(se,null))});return[new Ge(t),s,c]}(e),u=Object(g.a)(s,3);t=u[0],n=u[1],r=u[2],c.push(n);var l=function(e,t){var n=new Je(e),r=Te(n).filter(function(e){return e.id!==t.id});n.currentLog.nominationsPostVeto=r.map(function(e){return e.name});var i=gt(t,r,n),o=i.decision,c=i.reason,s=r[o],u=r[1==o?0:1];n.currentLog.soleVoter=t.name,n.currentLog.votes[u.id]=new Xt(!1),n.currentLog.votes[t.id]=new _t(s.id),n.currentLog.votesInMajority=1,n.currentLog.outOf=1;var l=Object(d.a)({},t);l.tooltip=c,un(n,s.id);var h=new at({title:"Final Eviction",gameState:n,content:a.a.createElement("div",null,a.a.createElement(ut,null,"As the final HoH of the season, ".concat(t.name,", you may now cast the sole vote to evict."),a.a.createElement(ie,{houseguest:l,centered:!0}),a.a.createElement(lt,null,"I vote to evict ".concat(s.name,".")),a.a.createElement(oe,{houseguests:r,centered:!0}),a.a.createElement(ut,null,"It's official... ",s.name,", you will be the final person leaving the Big Brother House.")),a.a.createElement(se,null))});return[new Ge(n),h]}(t,r),h=Object(g.a)(l,2);t=h[0],i=h[1],c.push(i);var m=Zt(t),f=Object(g.a)(m,2),v=f[0],p=f[1];return c.push(p),new tn({gameState:v,content:o,title:"Finale",scenes:c,type:$t})}var tn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).title=void 0,n.scenes=void 0,n.content=void 0,n.gameState=void 0,n.type=$t,n.title=e.title,n.scenes=e.scenes,n.content=e.content,n.gameState=e.gameState,n}return Object(h.a)(t,e),t}(rt),nn={canPlayWith:function(e){return 1===e},eliminates:1,arrowsEnabled:!1,hasViewsbar:!1};var rn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).title=void 0,n.scenes=void 0,n.content=void 0,n.gameState=void 0,n.title=e.title,n.scenes=e.scenes,n.content=e.content,n.gameState=e.gameState,n}return Object(h.a)(t,e),t}(rt),an=function e(){Object(c.a)(this,e),this.nominationsPreVeto=[],this.vetoWinner=void 0,this.winner=void 0,this.runnerUp=void 0,this.nominationsPostVeto=[],this.evicted=-1,this.votes={},this.votesInMajority=-1,this.outOf=-1,this.soleVoter=void 0};var on=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,[{key:"nextEpisode",value:function(e,t){var n,r=new Je(e);0===e.phase&&function(e){for(var t=0;t<e.length;t++)for(var n=e[t].relationships,r=t+1;r<e.length;r++){var a=e[r].relationships,i=Re().randomFloat();a[t]=i,n[r]=i}}(r.houseguests),r.phase++,Te(e).length>2&&(r.log[r.phase]=new an),Qe(e)&&0===ze(e).length&&function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=t+1;r<e.length;r++){var a=e[r];vt({hero:n,villain:a},e)?a.superiors.add(n.id):n.superiors.add(a.id)}}(Te(r)),Qe(e)&&(n=Te(r)).forEach(function(e){e.powerRanking=new E(n.length-1-e.superiors.size,n.length-1)}),function(e){Te(e).forEach(function(t){var n=function(e,t){var n=0,r=0,a=e.id;return t.forEach(function(e){e.id!==a&&(r++,n+=e.relationships[a])}),0===r?0:n/r}(t,Te(e));t.deltaPopularity=(j(n)-j(t.popularity))/100,t.popularity=n})}(r),function(e){var t=Te(e);t.forEach(function(e){e.getFriendEnemyCount=function(){var n=0,r=0;return t.forEach(function(t){var a=ve(e.popularity,t.popularity,e.relationshipWith(t));e.id!==t.id&&(a===he.Friend?n++:a===he.Enemy&&r++)}),{friends:n,enemies:r}}})}(r);var i=new Ge(r);switch(t){case sn:return function(e){var t,n,r,i,o,c=[],s=function(e){var t=new Je(e),n=e.previousHOH?[e.previousHOH]:[],r=De(t.houseguests,n);t.previousHOH=r,t.currentLog.votes[r.id]=new _t,r.hohWins+=1;var i=new at({title:"HoH Competition",gameState:e,content:a.a.createElement("div",null,a.a.createElement(ut,null,n.length>0&&"Houseguests, it's time to find a new Head of Household. As outgoing HoH, ".concat(n[0].name," will not compete. ")),a.a.createElement(ie,{centered:!0,houseguest:r}),a.a.createElement(lt,null,r.name," has won Head of Household!"),a.a.createElement("br",null),a.a.createElement(se,null))});return[new Ge(t),i,r]}(e),u=Object(g.a)(s,3);t=u[0],n=u[1],r=u[2],c.push(n);var l,h,m=function(e,t){var n=new Je(e),r=Be(Te(n),[t]),i=Ue(n,Et(t,r,n,2)[0].decision),o=Ue(n,Et(t,Be(r,[i]),n,2)[1].decision);i.nominations++,o.nominations++,n.currentLog.nominationsPreVeto=[i.name,o.name];var c=Object(w.shuffle)([i,o]),s=new at({title:"Nomination Ceremony",gameState:n,content:a.a.createElement("div",null,a.a.createElement(ut,null,"This is the nomination ceremony. It is my responsibility as the Head of Household to nominate two houseguests for eviction."),a.a.createElement(ie,{centered:!0,houseguest:t}),a.a.createElement("div",{className:"columns is-marginless is-centered"},a.a.createElement(Ze,{className:"column"},a.a.createElement(ut,null," My first nominee is..."),a.a.createElement(ie,{centered:!0,houseguest:c[0]})),a.a.createElement(Ze,{className:"column"},a.a.createElement(ut,null,"My second nominee is..."),a.a.createElement(ie,{centered:!0,houseguest:c[1]}))),a.a.createElement(lt,null,"I have nominated you, ".concat(c[0].name," and you, ").concat(c[1].name," for eviction.")),a.a.createElement("br",null),a.a.createElement(se,null))});return[new Ge(n),s,[i,o]]}(t,r),f=Object(g.a)(m,3);t=f[0],i=f[1],o=f[2],c.push(i);var v,p=function(e,t,n,r){var i=new Je(e),o=Te(i),c=[],s=o.length<=6;if(s)for(c.push(Object(d.a)({},t)),c.push(Object(d.a)({},n)),c.push(Object(d.a)({},r));c.length<o.length;)c.push(Object(d.a)({},De(o,c)));else c.push(Object(d.a)({},t)),c.push(Object(d.a)({},n)),c.push(Object(d.a)({},r)),c.push(Object(d.a)({},De(o,c))),c.push(Object(d.a)({},De(o,c))),c.push(Object(d.a)({},De(o,c)));var u,l=De(c);(l=Ue(i,l.id)).povWins++,i.currentLog.vetoWinner=l.name,u=s?"Everyone left in the house will compete in this challenge.":"".concat(t.name,", as Head of Household, and ").concat(n.name," and ").concat(r.name," as nominees, will compete, as well as 3 others chosen by random draw.");var h=[c[3]];c[4]&&h.push(c[4]),c[5]&&h.push(c[5]);var m=new at({title:"Veto Competition",gameState:e,content:a.a.createElement("div",null,a.a.createElement(ut,null,"It's time to pick players for the veto competition."),a.a.createElement(oe,{centered:!0,houseguests:[t,n,r]}),a.a.createElement(ut,null,u),a.a.createElement(oe,{centered:!0,houseguests:h}),a.a.createElement(ut,null,"..."),a.a.createElement(oe,{centered:!0,houseguests:[l]}),a.a.createElement(lt,null,"".concat(l.name," has won the Golden Power of Veto!")),a.a.createElement(se,null))});return[new Ge(i),m,l]}(t,r,o[0],o[1]),b=Object(g.a)(p,3);t=b[0],l=b[1],h=b[2],c.push(l);var E,y=function(e,t,n,r){var i=null,o="";n[0]=Ue(e,n[0].id),n[1]=Ue(e,n[1].id),t=Ue(e,t.id);var c=function(e,t,n){var r;return e.id==t[0].id||e.id==t[1].id?r={decision:e,reason:"I am going to save myself."}:(Qe(n),r=yt(e,t),4===Te(n).length&&(r={decision:null,reason:"It doesn't make sense to use the veto here."})),r||null}(r,n,e);(i=c.decision)?r.id==n[0].id||r.id==n[1].id?o+="...to use the power of veto on myself.":o+="...to use the power of veto on ".concat(i.name,"."):o+="... not to use the power of veto.";var s="",u="",l=Object(cn.a)(n);if(i){u+=" ".concat(t.name,", since I have just vetoed one of your nominations, you must name a replacement nominee.");var h=Object(d.a)({},Ue(e,Et(t,Be(e.houseguests,[t,n[0],n[1],r]),e,1)[0].decision)),m=n.findIndex(function(e){return e.id===c.decision.id});l[m]=h,h.nominations++,Ue(e,h.id).nominations++,s="My replacement nominee is ".concat(h.name,".")}var f=new at({title:"Veto Ceremony",gameState:e,content:a.a.createElement("div",null,a.a.createElement(ut,null,"This is the Veto Ceremony."),a.a.createElement(ut,null,"".concat(n[0].name," and ").concat(n[1].name," have been nominated for eviction, \n                    but I have the power to veto one of these nominations.")),a.a.createElement("div",{className:"columns is-marginless is-centered"},a.a.createElement(Ze,{className:"column"},a.a.createElement(ie,{centered:!0,houseguest:n[0]})),a.a.createElement(Ze,{className:"column"},a.a.createElement(ie,{centered:!0,houseguest:n[1]}))),a.a.createElement(lt,null,"I have decided... ",a.a.createElement("br",null)),a.a.createElement(ie,{centered:!0,houseguest:Object(d.a)({},r,{tooltip:c.reason})}),a.a.createElement(lt,{noMargin:!0},o),a.a.createElement(ut,null,u),s&&a.a.createElement(ie,{centered:!0,houseguest:t}),a.a.createElement(lt,null,s),a.a.createElement("div",{className:"columns is-marginless is-centered"},a.a.createElement(Ze,{className:"column"},a.a.createElement(ie,{centered:!0,houseguest:l[0]})),a.a.createElement(Ze,{className:"column"},a.a.createElement(ie,{centered:!0,houseguest:l[1]}))),a.a.createElement(se,null))});return e.currentLog.nominationsPostVeto=[l[0].name,l[1].name],[e,f,l]}(t,r,o,h),O=Object(g.a)(y,3);t=O[0],v=O[1],o=O[2],c.push(v);var j=function(e,t,n){var r=new Je(e);n=Object(w.shuffle)(n);var i,o=[[],[]];Te(r).forEach(function(e){if(e.id!==n[0].id&&e.id!==n[1].id&&e.id!==t.id){var a=gt(e,n,r),c=Object(d.a)({},e);c.tooltip=a.reason,r.currentLog.votes[e.id]=new Yt(n[a.decision].id),o[a.decision].push(c),i=e}});var c=o[0].length,s=o[1].length;r.currentLog.outOf=c+s,c+s===1&&(r.currentLog.soleVoter=i.name);var u,l=c===s,h={decision:0,reason:"Error you should not be seeing this"};l&&(r.currentLog.outOf++,h=gt(t,n,r),r.currentLog.votes[t.id]=new _t(n[h.decision].id));c>s?(u=n[0],r.currentLog.votesInMajority=c):s>c?(u=n[1],r.currentLog.votesInMajority=s):(u=n[h.decision],r.currentLog.votesInMajority=s+1);r.currentLog.votes[n[0].id]=new Xt(u.id===n[0].id),r.currentLog.votes[n[1].id]=new Xt(u.id!==n[0].id),un(r,u.id);var m=0===c||0===s?"By a unanimous vote...":"By a vote of ".concat(c," to ").concat(s,"..."),f=Object(d.a)({},t);f.tooltip=h.reason;var v=new at({title:"Live Eviction",gameState:e,content:a.a.createElement("div",null,a.a.createElement(lt,null,m),a.a.createElement("div",{className:"columns is-centered"},a.a.createElement(Ze,{className:"column"},a.a.createElement(oe,{houseguests:o[0],centered:!0})),a.a.createElement(Ze,{className:"column"},a.a.createElement(oe,{houseguests:o[1],centered:!0}))),l&&a.a.createElement("div",null,a.a.createElement(lt,null," We have a tie."),a.a.createElement(ut,null,"".concat(t.name,", as current Head of Household, you must cast the sole vote to evict.")),a.a.createElement(oe,{houseguests:[f],centered:!0}),a.a.createElement(lt,null,"I vote to evict ","".concat(u.name,"."))),a.a.createElement(oe,{houseguests:[Ue(r,n[0].id),Ue(r,n[1].id)],centered:!0}),a.a.createElement(lt,null,"".concat(u.name,"... you have been evicted from the Big Brother House.")),a.a.createElement(se,null))});return[r,v]}(t,r,o),k=Object(g.a)(j,2);t=k[0],E=k[1],c.push(E);var x="Week ".concat(t.phase),C=a.a.createElement(me,null,"Week ".concat(t.phase),a.a.createElement(ce,{houseguests:e.houseguests})," ",a.a.createElement("br",null),a.a.createElement(se,null)),S=new Ge(t);return new ln({title:x,scenes:c,content:C,gameState:S,type:sn})}(i);case $t:return en(i);case nn:return function(e){var t=Qt(e);return e.houseguests.forEach(function(t){un(e,t.id)}),new rn({gameState:e,content:t,title:"Game Over",scenes:[],type:nn})}(i);default:throw new Error("Unsupported Episode Type")}}}]),e}();var cn=n(29);var sn={canPlayWith:function(e){return e>1},eliminates:1,arrowsEnabled:!0,hasViewsbar:!0};function un(e,t){var n=Ue(e,t);e.currentLog&&(e.currentLog.evicted=n.id),n.isEvicted=!0,e.remainingPlayers-2<=hn()&&(n.isJury=!0),Qe(e)&&Te(e).forEach(function(e){e.superiors.delete(n.id)}),e.remainingPlayers--}var ln=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).title=void 0,n.scenes=void 0,n.content=void 0,n.gameState=void 0,n.type=sn,n.title=e.title,n.scenes=e.scenes,n.content=e.content,n.gameState=e.gameState,n}return Object(h.a)(t,e),t}(rt);function hn(){return mn}var mn=7;We.subscribe({next:function(e){var t=e.length;(t=Math.round(.55*t))%2===0&&t--,mn=t}});var dn=function(){function e(){Object(c.a)(this,e),this.factory=void 0,this.factory=new on}return Object(s.a)(e,[{key:"renderEpisode",value:function(e,t){return this.factory.nextEpisode(e,t)}},{key:"whichEpisodeType",value:function(e){return 3===e?$t:2===e?nn:sn}}]),e}(),fn=function(){function e(t){var n=this;Object(c.a)(this,e),this.view=void 0,this.subscriptions=[],this.season=new dn,this.scenes=[],this.selectedEpisode=0,this.switchSceneRelative=function(e){var t=n.view.state.selectedScene,r=n.scenes.length,a=t+e;if(!(a<0)){var i=n.view.state.episodes[n.view.state.episodes.length-1];if(a<r)n.switchToScene(a);else if(a===r){var o=i.gameState,c=Te(i.gameState).length,s=n.season.whichEpisodeType(c);c>0&&(Me(n.season.renderEpisode(o,s)),n.switchSceneRelative(1))}}},this.view=t,this.subscriptions.push(Ce.subscribe({next:function(e){return n.onNewEpisode(e)}})),this.subscriptions.push(Se.subscribe({next:function(e){n.switchSceneRelative(e)}})),this.subscriptions.push(We.subscribe({next:function(){return n.season=new dn}}))}return Object(s.a)(e,[{key:"getSelectedEpisode",value:function(){return this.selectedEpisode}},{key:"switchToScene",value:function(){var e=Object(p.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return xe.next(this.scenes[t].scene.render),this.selectedEpisode=this.scenes[t].index,e.next=4,this.view.setState({selectedScene:t});case 4:null!==Fe()&&Ae.next(Ue(this.scenes[this.view.state.selectedScene].scene.gameState,Fe().id));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_handleKeyDown",value:function(e){var t=this.view.state;void 0!==t.episodes[this.selectedEpisode]&&t.episodes[this.selectedEpisode].type.arrowsEnabled&&(37===e.keyCode?Ne(-1):39===e.keyCode&&Ne(1))}},{key:"onNewEpisode",value:function(e){var t=this;if(e){var n=Object(d.a)({},this.view.state),r=(0===this.scenes.length?-1:this.scenes[this.scenes.length-1].index)+1;this.scenes.push({scene:e,index:r}),e.scenes.forEach(function(e){return t.scenes.push({scene:e,index:r})}),n.episodes.push(e),this.view.setState(n)}else this.view.setState({episodes:[],selectedScene:0}),this.scenes=[]}},{key:"destroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"handleKeyDown",get:function(){return this._handleKeyDown.bind(this)}}]),e}(),vn={eliminates:0,canPlayWith:function(e){return e>2},arrowsEnabled:!0,hasViewsbar:!1},pn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,{title:"Pregame",scenes:[],content:a.a.createElement(de,{cast:e.houseguests}),gameState:e,type:vn}))).title="Pregame",n.scenes=[],n.content=void 0,n.gameState=void 0,n.type=vn,n.gameState=e,n.content=a.a.createElement(de,{cast:e.houseguests}),n}return Object(h.a)(t,e),t}(rt),gn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).controller=void 0,n.controller=new fn(Object(m.a)(Object(m.a)(n))),n.state={episodes:[],selectedScene:0},Me(new pn(new Ge([]))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.controller.handleKeyDown)}},{key:"componentWillUnmount",value:function(){this.controller.destroy()}},{key:"render",value:function(){return a.a.createElement($e,{style:{minWidth:180,display:"none"}},a.a.createElement(me,null,this.getEpisodes()))}},{key:"getHighlight",value:function(e,t){return t===this.state.selectedScene?a.a.createElement("mark",null,e):e}},{key:"getEpisodes",value:function(){var e=this,t=[],n=-1,r=0;return this.state.episodes.forEach(function(i){var o=++n;t.push(a.a.createElement("b",{key:o,onClick:function(){e.controller.switchToScene(o)}},e.getHighlight(i.title,o))),t.push(a.a.createElement("br",{key:--r})),i.scenes.forEach(function(o){var c=++n;e.controller.getSelectedEpisode()===i.gameState.phase&&(t.push(a.a.createElement("a",{key:c,onClick:function(){return e.controller.switchToScene(c)}},e.getHighlight(o.title,c))),t.push(a.a.createElement("br",{key:--r})))})}),t}}]),t}(a.a.Component),bn={name:"light",bg:"#fff",text:"#363537",toggleBorder:"#FFF",gradient:"linear-gradient(#39598A, #79D7ED)",bodyArea:"#fff",link:"blue",mark:"yellow",overlay:"fff",evictedCell:"#fa8072",grayCell:"#eaecf0",lightGrayCell:"#f8f9fa",winnerCell:"#73fb76",runnerUpCell:"#d1e8ef",nomineeCell:"#959ffd",hohCell:"#CCFFCC",portraitBorder:"gray",tableCellBorder:"#a2a9b1"},En={name:"dark",bg:"#121212",text:"#FAFAFA",bodyArea:"#363537",toggleBorder:"#6B8096",gradient:"linear-gradient(#091236, #1E215D)",link:"lightblue",mark:"#7e006d",overlay:"#444346",evictedCell:"#9d4c43",grayCell:"#5e5e5e",lightGrayCell:"#404040",runnerUpCell:"#9fbec882",nomineeCell:"#6c75d0",winnerCell:"#00ac04",hohCell:"#3f783f",portraitBorder:"#484848",tableCellBorder:"#53575b"};function yn(){var e=Object(r.useState)(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),t=Object(g.a)(e,2),n=t[0],i=t[1],o="button ".concat("dark"===n?"is-dark":"is-light");return a.a.createElement("div",{className:o,onClick:function(){"light"===n?(i("dark"),Ie.next(En)):(i("light"),Ie.next(bn))}},"light"===n?"Dark mode":"Light mode")}function wn(e){var t=Object(d.a)({},{marginTop:30},e.style||{});return a.a.createElement($e,{className:"level is-mobile",style:t},a.a.createElement(me,{className:"level-item"},"TODO: Enter Code: ",a.a.createElement("input",{className:"input"})),a.a.createElement("div",{className:"level-item"},a.a.createElement(yn,null)))}function On(){var e=Object(M.a)(["\n    overflow-x: auto;\n"]);return On=function(){return e},e}var jn=Object(I.c)($e)(On()),kn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).contentStream=void 0,n.state={content:null},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contentStream=xe.subscribe(function(t){e.setState({content:t})})}},{key:"componentDidUpdate",value:function(e,t){t.content!==this.state.content&&window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){this.contentStream.unsubscribe()}},{key:"render",value:function(){return a.a.createElement(jn,null,this.state.content)}}]),t}(a.a.Component),xn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={fullscreen:!1},e.controller.inject(Object(m.a)(Object(m.a)(n))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.controller.subscribe()}},{key:"componentWillUnmount",value:function(){this.props.controller.unsubscribe()}},{key:"render",value:function(){var e=this.state.fullscreen,t={display:e?"none":""},n=e?{margin:"auto"}:{margin:"auto",maxWidth:1380,overflow:"hidden"};return a.a.createElement("div",{style:n},a.a.createElement(gn,null),a.a.createElement(wn,{style:t}),a.a.createElement("div",{className:"columns"},a.a.createElement("div",{className:"column",style:{overflowX:"hidden"}},a.a.createElement(kn,null))))}}]),t}(a.a.Component),Cn=function(){function e(){Object(c.a)(this,e),this.view=new xn({controller:this}),this.subscriptions=[]}return Object(s.a)(e,[{key:"inject",value:function(e){this.view=e}},{key:"subscribe",value:function(){var e=this;this.unsubscribe(),this.subscriptions.push(Pe.subscribe(function(t){e.view.setState({fullscreen:t})}))}},{key:"unsubscribe",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();function Sn(){var e=Object(M.a)(["\n  *,\n  *::after,\n  *::before {\n    box-sizing: border-box;\n  }\n  div {\n    transition: all 0.25s linear;\n  }\n\n  body {\n    background: ",";\n    color: ",";\n       transition: all 0.25s linear;\n  }"]);return Sn=function(){return e},e}var Mn=Object(I.b)(Sn(),function(e){return e.theme.bg},function(e){return e.theme.text}),Nn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).sub=null,n.state={theme:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?En:bn},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=Ie.subscribe(function(t){e.setState({theme:t})})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"render",value:function(){return a.a.createElement(I.a,{theme:this.state.theme},a.a.createElement(a.a.Fragment,null,a.a.createElement(Mn,null),a.a.createElement(xn,{controller:new Cn})))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Nn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.2c3bd2b0.chunk.js.map